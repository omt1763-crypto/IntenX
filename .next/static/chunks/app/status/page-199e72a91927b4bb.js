(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5357],{8816:function(e,s,l){Promise.resolve().then(l.bind(l,9427))},9427:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return i}});var t=l(7437),n=l(2265);function i(){var e,s,l,i,a,r,d,o,c,x,h,u,m,b;let[v,g]=(0,n.useState)({loading:!0,env:null,connection:null,table:null,ready:!1});return((0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/admin/status"),s=await e.json();g(s)}catch(e){g(s=>({...s,loading:!1,error:e.message}))}})()},[]),v.loading)?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center p-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600",children:"Checking setup status..."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-8",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"\uD83D\uDD0D Authentication Setup Status"}),(0,t.jsx)("p",{className:"text-slate-600",children:"Complete system diagnostics"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsx)("div",{className:"p-6 rounded-lg border-2 ".concat((null===(e=v.env)||void 0===e?void 0:e.ok)?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-bold text-lg mb-2",children:"Environment Variables"}),(0,t.jsx)("div",{className:"text-sm space-y-1",children:(0,t.jsx)("p",{className:"text-slate-600",children:(null===(s=v.env)||void 0===s?void 0:s.ok)?"✅ All variables set":"❌ "+(null===(l=v.env)||void 0===l?void 0:l.message)})})]}),(0,t.jsx)("span",{className:"text-3xl",children:(null===(i=v.env)||void 0===i?void 0:i.ok)?"✅":"❌"})]})}),(0,t.jsx)("div",{className:"p-6 rounded-lg border-2 ".concat((null===(a=v.connection)||void 0===a?void 0:a.ok)?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-bold text-lg mb-2",children:"Supabase Connection"}),(0,t.jsx)("div",{className:"text-sm space-y-1",children:(0,t.jsx)("p",{className:"text-slate-600",children:(null===(r=v.connection)||void 0===r?void 0:r.ok)?"✅ Connected":"❌ "+(null===(d=v.connection)||void 0===d?void 0:d.message)})})]}),(0,t.jsx)("span",{className:"text-3xl",children:(null===(o=v.connection)||void 0===o?void 0:o.ok)?"✅":"❌"})]})}),(0,t.jsx)("div",{className:"p-6 rounded-lg border-2 ".concat((null===(c=v.table)||void 0===c?void 0:c.ok)?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-bold text-lg mb-2",children:"Users Table"}),(0,t.jsxs)("div",{className:"text-sm space-y-1",children:[(0,t.jsx)("p",{className:"text-slate-600",children:(null===(x=v.table)||void 0===x?void 0:x.ok)?"✅ Table exists":"⏳ "+(null===(h=v.table)||void 0===h?void 0:h.message)}),!(null===(u=v.table)||void 0===u?void 0:u.ok)&&(0,t.jsxs)("p",{className:"text-xs mt-2",children:["Visit ",(0,t.jsx)("a",{href:"/init-db",className:"text-blue-600 hover:underline",children:"/init-db"})," ","to create table"]})]})]}),(0,t.jsx)("span",{className:"text-3xl",children:(null===(m=v.table)||void 0===m?void 0:m.ok)?"✅":"⏳"})]})}),(0,t.jsx)("div",{className:"p-6 rounded-lg border-2 ".concat(v.ready?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-bold text-lg mb-2",children:"Overall Status"}),(0,t.jsx)("div",{className:"text-sm space-y-1",children:(0,t.jsx)("p",{className:"text-slate-600",children:v.ready?"✅ Ready for testing":"⏳ Setup in progress"})})]}),(0,t.jsx)("span",{className:"text-3xl",children:v.ready?"✅":"⏳"})]})})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"font-bold text-lg mb-4",children:"\uD83D\uDCCB Next Steps"}),(0,t.jsx)("ol",{className:"list-decimal list-inside space-y-2 text-slate-700",children:(null===(b=v.table)||void 0===b?void 0:b.ok)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("li",{children:["Go to"," ",(0,t.jsx)("a",{href:"/auth/signup",className:"text-blue-600 hover:underline",children:"/auth/signup"})," ","to test registration"]}),(0,t.jsx)("li",{children:"Create an account to verify the signup flow"}),(0,t.jsxs)("li",{children:["Visit"," ",(0,t.jsx)("a",{href:"/auth/login",className:"text-blue-600 hover:underline",children:"/auth/login"})," ","to test login"]}),(0,t.jsx)("li",{children:"Check browser localStorage to verify JWT token storage"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("li",{children:["Click"," ",(0,t.jsx)("a",{href:"/init-db",className:"text-blue-600 hover:underline",children:"here to create the users table"})]}),(0,t.jsx)("li",{children:"Follow the automatic setup or manual instructions"}),(0,t.jsx)("li",{children:"Return to this page after table creation"}),(0,t.jsx)("li",{children:"Then proceed with testing authentication flows"})]})})]}),v.debug&&(0,t.jsxs)("div",{className:"mt-6 bg-slate-900 text-slate-100 p-4 rounded-lg font-mono text-xs overflow-auto",children:[(0,t.jsx)("p",{className:"font-bold mb-2",children:"Debug Info:"}),(0,t.jsx)("pre",{children:JSON.stringify(v.debug,null,2)})]})]})})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=8816)}),_N_E=e.O()}]);