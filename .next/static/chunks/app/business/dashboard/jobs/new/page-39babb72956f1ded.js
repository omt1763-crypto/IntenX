(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5886],{9072:function(e,t,a){Promise.resolve().then(a.bind(a,5950))},5950:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return NewJobPage}});var s=a(7437),r=a(2265),n=a(4033),l=a(732),i=a(2609),o=a(8211),d=a(8523),c=a(1869),u=a(1372),m=a(8247),x=a(4862),h=a(4678),p=a(4102),b=a(2080);function NewJobPage(){let e=(0,n.useRouter)(),{user:t,isAuthenticated:a,loading:f}=(0,h.useAuth)(),[g,y]=(0,r.useState)({title:"",description:"",company:"",location:"",salary_min:"",salary_max:"",requiredSkills:[],skillInput:"",status:"open"}),[j,v]=(0,r.useState)(!1),[w,N]=(0,r.useState)(null),[k,C]=(0,r.useState)(!1),[S,I]=(0,r.useState)(null),[_,Z]=(0,r.useState)(900),[E,q]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f||a||e.replace("/auth/login")},[f,a,e]),(0,r.useEffect)(()=>{C(!0)},[]),(0,r.useEffect)(()=>{if(!S)return;let e=setInterval(()=>{Z(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[S]);let formatTimeRemaining=e=>e<=0?"Expired":"".concat(String(Math.floor(e/60)).padStart(2,"0"),":").concat(String(e%60).padStart(2,"0")),getInterviewLink=()=>{if(!S)return"";try{return"".concat(window.location.origin,"/interview/realtime?jobId=").concat(S.id)}catch(e){return"/interview/realtime?jobId=".concat(S.id)}},copyLink=async()=>{let e=getInterviewLink();try{await navigator.clipboard.writeText(e),q(!0),setTimeout(()=>q(!1),3e3)}catch(e){console.warn("Copy failed",e)}},handleInputChange=e=>{let{name:t,value:a}=e.target;y(e=>({...e,[t]:a}))},handleAddSkill=()=>{let e=g.skillInput.trim();e&&!g.requiredSkills.includes(e)&&y(t=>({...t,requiredSkills:[...t.requiredSkills,e],skillInput:""}))},handleRemoveSkill=e=>{y(t=>({...t,requiredSkills:t.requiredSkills.filter(t=>t!==e)}))},handleSubmit=async e=>{e.preventDefault(),v(!0),N(null);try{if(!g.title.trim())throw Error("Job title is required");if(!(null==t?void 0:t.id))throw Error("User not authenticated");let e={id:(0,b.Z)(),title:g.title.trim(),description:g.description.trim(),company:g.company.trim()||"Unspecified Company",location:g.location.trim(),salary_min:g.salary_min?parseInt(g.salary_min):null,salary_max:g.salary_max?parseInt(g.salary_max):null,required_skills:g.requiredSkills,status:g.status,recruiter_id:t.id,created_at:new Date().toISOString()},a=await fetch("/api/jobs/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobData:e,userId:t.id})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to create job")}let s=await a.json();I(s.job),Z(900)}catch(e){console.error("[NewJobPage] Error:",e),N(e.message||"Failed to create job")}finally{v(!1)}};return k?S?(0,s.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,s.jsx)(p.Z,{role:"company"}),(0,s.jsxs)("div",{className:"fixed inset-0 pointer-events-none opacity-30",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-gradient-to-b from-[#11cd68]/20 to-transparent rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-gradient-to-t from-[#007a78]/15 to-transparent rounded-full blur-3xl"})]}),(0,s.jsxs)("div",{className:"ml-64",children:[(0,s.jsx)(l.E.div,{className:"sticky top-0 z-40 border-b border-[#11cd68]/50 bg-gradient-to-r from-[#007a78] to-[#00a89a] backdrop-blur-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:(0,s.jsx)("div",{className:"px-8 py-5",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(i.Z,{className:"w-8 h-8 text-white"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Job Created Successfully!"}),(0,s.jsx)("p",{className:"text-sm text-[#d1f2eb] mt-1",children:"Your interview link is ready to share"})]})]})})}),(0,s.jsx)("div",{className:"px-8 py-12 relative z-10",children:(0,s.jsxs)(l.E.div,{className:"max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,s.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl p-8 shadow-lg mb-8",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:S.title}),(0,s.jsx)("p",{className:"text-slate-600",children:S.company})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pb-6 border-b border-slate-200 mb-6",children:[S.location&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-700",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4 text-[#007a78]"}),(0,s.jsx)("span",{children:S.location})]}),S.salary_min&&(0,s.jsxs)("div",{className:"text-slate-700",children:["$",S.salary_min,"K - $",S.salary_max||S.salary_min,"K"]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-[#f0fdf4] to-[#f0fdf4]/50 border border-[#11cd68]/30 rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"w-5 h-5 text-[#007a78]"}),(0,s.jsx)("span",{className:"font-semibold text-slate-900",children:"Interview Link"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ".concat(_>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),formatTimeRemaining(_)]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mb-3",children:_>0?"Share this link with candidates. Link expires in "+formatTimeRemaining(_):"This link has expired. Create a new job to generate a fresh link."}),_>0?(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"flex-1 bg-white border border-slate-300 rounded-lg p-3 overflow-x-auto",children:(0,s.jsx)("code",{className:"text-sm text-slate-700 font-mono whitespace-nowrap",children:getInterviewLink()})}),(0,s.jsxs)("button",{onClick:copyLink,className:"px-4 py-3 rounded-lg font-semibold transition-all flex items-center gap-2 ".concat(E?"bg-green-600 text-white":"bg-[#007a78] text-white hover:bg-[#00a89a] hover:shadow-lg"),children:[(0,s.jsx)(c.Z,{className:"w-4 h-4"}),E?"Copied!":"Copy"]})]}):(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm",children:"Link expired - Please create a new job posting to generate a new interview link"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:()=>e.push("/business/dashboard/jobs"),className:"flex-1 px-6 py-3 border border-[#007a78] text-[#007a78] rounded-lg hover:bg-[#f0fdf4] transition-colors font-semibold",children:"View All Jobs"}),(0,s.jsx)("button",{onClick:()=>{I(null),y({title:"",description:"",company:"",location:"",salary_min:"",salary_max:"",requiredSkills:[],skillInput:"",status:"open"}),N(null)},className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#007a78] to-[#00a89a] text-white rounded-lg hover:shadow-lg hover:shadow-teal-400/30 transition-all font-semibold",children:"Create Another Job"})]})]})})]})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,s.jsx)(p.Z,{role:"company"}),(0,s.jsxs)("div",{className:"fixed inset-0 pointer-events-none opacity-30",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-gradient-to-b from-[#11cd68]/20 to-transparent rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-gradient-to-t from-[#007a78]/15 to-transparent rounded-full blur-3xl"})]}),(0,s.jsxs)("div",{className:"ml-64",children:[(0,s.jsx)(l.E.div,{className:"sticky top-0 z-40 border-b border-[#11cd68]/50 bg-gradient-to-r from-[#007a78] to-[#00a89a] backdrop-blur-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:(0,s.jsx)("div",{className:"px-8 py-5",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:()=>e.back(),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,s.jsx)(u.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Create New Job"}),(0,s.jsx)("p",{className:"text-sm text-[#d1f2eb] mt-1",children:"Post a new job position to find candidates"})]})]})})})}),(0,s.jsx)("div",{className:"px-8 py-12 relative z-10",children:(0,s.jsx)(l.E.div,{className:"max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[w&&(0,s.jsx)(l.E.div,{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",initial:{opacity:0},animate:{opacity:1},children:w}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Job Title *"}),(0,s.jsx)("input",{type:"text",name:"title",value:g.title,onChange:handleInputChange,placeholder:"e.g., Senior React Developer",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-[#007a78] focus:ring-2 focus:ring-[#007a78]/20 bg-white transition-colors",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name"}),(0,s.jsx)("input",{type:"text",name:"company",value:g.company,onChange:handleInputChange,placeholder:"Company name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-[#007a78] focus:ring-2 focus:ring-[#007a78]/20 bg-white transition-colors"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location"}),(0,s.jsx)("input",{type:"text",name:"location",value:g.location,onChange:handleInputChange,placeholder:"e.g., New York, NY or Remote",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-[#007a78] focus:ring-2 focus:ring-[#007a78]/20 bg-white transition-colors"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Min Salary (K)"}),(0,s.jsx)("input",{type:"number",name:"salary_min",value:g.salary_min,onChange:handleInputChange,placeholder:"e.g., 80",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-[#007a78] focus:ring-2 focus:ring-[#007a78]/20 bg-white transition-colors"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Max Salary (K)"}),(0,s.jsx)("input",{type:"number",name:"salary_max",value:g.salary_max,onChange:handleInputChange,placeholder:"e.g., 120",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-[#007a78] focus:ring-2 focus:ring-[#007a78]/20 bg-white transition-colors"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Job Description"}),(0,s.jsx)("textarea",{name:"description",value:g.description,onChange:handleInputChange,placeholder:"Describe the job position, responsibilities, and requirements...",rows:"6",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-[#007a78] focus:ring-2 focus:ring-[#007a78]/20 bg-white transition-colors resize-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Required Skills"}),(0,s.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,s.jsx)("input",{type:"text",name:"skillInput",value:g.skillInput,onChange:handleInputChange,onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),handleAddSkill())},placeholder:"Add a skill and press Enter",className:"flex-1 px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-[#007a78] focus:ring-2 focus:ring-[#007a78]/20 bg-white transition-colors"}),(0,s.jsxs)("button",{type:"button",onClick:handleAddSkill,className:"px-4 py-3 bg-gradient-to-r from-[#007a78] to-[#00a89a] text-white rounded-lg hover:shadow-lg hover:shadow-teal-400/30 transition-all font-semibold flex items-center gap-2",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4"}),"Add"]})]}),g.requiredSkills.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:g.requiredSkills.map(e=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-2 bg-[#f0fdf4] border border-[#11cd68]/30 rounded-full",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-[#007a78]",children:e}),(0,s.jsx)("button",{type:"button",onClick:()=>handleRemoveSkill(e),className:"text-[#007a78] hover:text-red-600 transition-colors",children:(0,s.jsx)(x.Z,{className:"w-4 h-4"})})]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),(0,s.jsxs)("select",{name:"status",value:g.status,onChange:handleInputChange,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-[#007a78] focus:ring-2 focus:ring-[#007a78]/20 bg-white transition-colors",children:[(0,s.jsx)("option",{value:"open",children:"Open"}),(0,s.jsx)("option",{value:"closed",children:"Closed"}),(0,s.jsx)("option",{value:"on-hold",children:"On Hold"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-6",children:[(0,s.jsx)("button",{type:"button",onClick:()=>e.back(),className:"flex-1 px-6 py-3 border border-[#007a78] text-[#007a78] rounded-lg hover:bg-[#f0fdf4] transition-colors font-semibold",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:j,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#007a78] to-[#00a89a] text-white rounded-lg hover:shadow-lg hover:shadow-teal-400/30 transition-all font-semibold disabled:opacity-50",children:j?"Creating Job...":"Create Job"})]})]})})})]})]}):null}},1372:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7865);let r=(0,s.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6788:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7865);let r=(0,s.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},3731:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7865);let r=(0,s.Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},2609:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7865);let r=(0,s.Z)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},8523:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7865);let r=(0,s.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1869:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7865);let r=(0,s.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},8211:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7865);let r=(0,s.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},8247:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7865);let r=(0,s.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2080:function(e,t,a){"use strict";let s;a.d(t,{Z:function(){return dist_v4}});let r="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var n={randomUUID:r};let l=new Uint8Array(16);function rng(){if(!s){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(l)}let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function unsafeStringify(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}function _v4(e,t,a){e=e||{};let s=e.random??e.rng?.()??rng();if(s.length<16)throw Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((a=a||0)<0||a+16>t.length)throw RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[a+e]=s[e];return t}return unsafeStringify(s)}var dist_v4=function(e,t,a){return!n.randomUUID||t||e?_v4(e,t,a):n.randomUUID()}}},function(e){e.O(0,[7653,9292,732,4102,2971,2472,1744],function(){return e(e.s=9072)}),_N_E=e.O()}]);