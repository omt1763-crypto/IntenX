(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4260],{74714:function(e,s,t){Promise.resolve().then(t.bind(t,77227))},77227:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var a=t(57437),i=t(2265),n=t(99376),o=t(13287),l=t(16325),r=t(18512),c=t(25763);let d=(0,t(8301).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var x=t(1233),h=t(69358),u=t(18985);function m(){let e=(0,n.useRouter)(),{user:s,isAuthenticated:t,loading:m}=(0,x.a)(),{isOpen:p}=(0,h.A)(),[b,f]=(0,i.useState)([]),[j,g]=(0,i.useState)(!0),[v,N]=(0,i.useState)(!1),y=null==s?void 0:s.id,w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},k=(s,t)=>{e.push("/business/dashboard/jobs/applicants?jobId=".concat(s,"&jobTitle=").concat(encodeURIComponent(t)))};(0,i.useEffect)(()=>{m||y||t||s||e.replace("/auth/login")},[m,y,t,s,e]),(0,i.useEffect)(()=>{N(!0)},[]),(0,i.useEffect)(()=>{y&&v&&!m&&Z()},[y,v,m]);let Z=async()=>{try{if(!y)return;console.log("[BusinessJobs] Loading jobs for userId:",y);let e=await fetch("/api/recruiter/jobs-summary?recruiterId=".concat(y)),s=await e.json();console.log("[BusinessJobs] Jobs API response:",s),s&&s.success&&s.jobs?(console.log("[BusinessJobs] Found",s.jobs.length,"jobs"),f(s.jobs)):(console.warn("[BusinessJobs] No jobs found in response"),f([]))}catch(e){console.error("[BusinessJobs] Error loading jobs:",e),f([])}finally{g(!1)}};return!v||j?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f0fdf4] via-white to-[#ecfdf5]",children:[(0,a.jsx)(u.Z,{role:"company"}),(0,a.jsx)("div",{className:"ml-20 lg:".concat(p?"ml-64":"ml-20"," transition-all duration-300 flex items-center justify-center min-h-screen"),children:(0,a.jsx)("p",{className:"text-slate-600",children:"Loading jobs..."})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f0fdf4] via-white to-[#ecfdf5]",children:[(0,a.jsx)(u.Z,{role:"company"}),(0,a.jsxs)("div",{className:"fixed inset-0 pointer-events-none opacity-30",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-gradient-to-b from-[#11cd68]/20 to-transparent rounded-full blur-3xl"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-gradient-to-t from-[#007a78]/15 to-transparent rounded-full blur-3xl"})]}),(0,a.jsxs)("div",{className:"transition-all duration-300 ".concat(p?"ml-64":"ml-20"),children:[(0,a.jsx)(o.E.div,{className:"sticky top-0 z-40 border-b border-[#11cd68]/20 bg-[#007a78]/95 backdrop-blur-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:(0,a.jsx)("div",{className:"px-8 py-5",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Job Postings"}),(0,a.jsx)("p",{className:"text-sm text-[#d1f2eb] mt-1",children:"Manage your job listings and applications"})]}),(0,a.jsxs)("button",{onClick:()=>e.push("/business/dashboard/jobs/new"),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-[#007a78] to-[#00a89a] text-white hover:shadow-lg hover:shadow-teal-400/30 transition-all font-semibold",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),"New Job"]})]})})}),(0,a.jsx)("div",{className:"px-8 py-12 relative z-10",children:(0,a.jsx)(o.E.div,{className:"space-y-6",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},initial:"hidden",animate:"visible",children:b.length>0?b.map(e=>{var s;return(0,a.jsx)(o.E.div,{className:"rounded-xl border border-[#007a78]/20 p-6 bg-gradient-to-br from-white to-[#f0fdf4] shadow-sm hover:shadow-md transition-all",variants:w,children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,a.jsx)("div",{className:"p-3 bg-[#11cd68]/10 rounded-lg",children:(0,a.jsx)(r.Z,{className:"w-6 h-6 text-[#11cd68]"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-[#007a78] mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:e.description||"No description"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-600",children:[e.location&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 text-[#11cd68]"}),e.location]}),void 0!==e.applicant_count&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d,{className:"w-4 h-4 text-[#11cd68]"}),e.applicant_count," applicants"]})]})]})]}),(0,a.jsxs)("div",{className:"text-right ml-4 flex flex-col gap-3",children:[(0,a.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold ".concat("open"===e.status?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"),children:e.status||"Open"}),e.created_at&&(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Posted ",new Date(e.created_at).toLocaleDateString()]}),(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),k(e.id,e.title)},className:"px-4 py-2 bg-[#11cd68] text-white rounded-lg hover:bg-[#00a89a] transition-colors font-semibold text-sm whitespace-nowrap",children:["View Applicants (",null!==(s=e.applicant_count)&&void 0!==s?s:0,")"]})]})]})},e.id)}):(0,a.jsxs)(o.E.div,{className:"rounded-xl border border-[#11cd68]/20 p-12 bg-gradient-to-br from-white to-[#f0fdf4] text-center",variants:w,children:[(0,a.jsx)(r.Z,{className:"w-12 h-12 text-[#11cd68]/30 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600 mb-6 text-lg",children:"No jobs posted yet"}),(0,a.jsx)("button",{onClick:()=>e.push("/business/dashboard/jobs/new"),className:"px-6 py-2 bg-gradient-to-r from-[#007a78] to-[#00a89a] text-white rounded-lg hover:shadow-lg hover:shadow-teal-400/30 transition-all font-semibold",children:"Create Your First Job"})]})})})]})]})}},25763:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(8301).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},16325:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(8301).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[9066,1341,3287,8985,2971,2117,1744],function(){return e(e.s=74714)}),_N_E=e.O()}]);