(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6451],{674:function(e,t,s){Promise.resolve().then(s.bind(s,6340))},6340:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return BusinessBillingPage}});var i=s(7437),l=s(2265),a=s(4033),n=s(732),r=s(8499),c=s(3408),d=s(4678),o=s(5046),x=s(4102),m=s(2899);function BusinessBillingPage(){let e=(0,a.useRouter)(),{user:t,isAuthenticated:s,loading:h}=(0,d.useAuth)(),{isOpen:u}=(0,o.useSidebar)(),[b,p]=(0,l.useState)(null),[f,v]=(0,l.useState)(!0),[g,j]=(0,l.useState)(!1),N=null==t?void 0:t.id;(0,l.useEffect)(()=>{h||N||s||t||e.replace("/auth/login")},[h,N,s,t,e]),(0,l.useEffect)(()=>{j(!0)},[]),(0,l.useEffect)(()=>{N&&g&&!h&&loadSubscription()},[N,g,h]);let loadSubscription=async()=>{try{if(!N)return;let{data:e}=await m.OQ.from("subscriptions").select("*").eq("user_id",N).single();p(e||null)}catch(e){console.error("[BusinessBilling] Error loading subscription:",e),p(null)}finally{v(!1)}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return!g||f?(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f0fdf4] via-white to-[#ecfdf5]",children:[(0,i.jsx)(x.Z,{role:"company"}),(0,i.jsx)("div",{className:"ml-20 lg:".concat(u?"ml-64":"ml-20"," transition-all duration-300 flex items-center justify-center min-h-screen"),children:(0,i.jsx)("p",{className:"text-slate-600",children:"Loading billing information..."})})]}):(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f0fdf4] via-white to-[#ecfdf5]",children:[(0,i.jsx)(x.Z,{role:"company"}),(0,i.jsxs)("div",{className:"fixed inset-0 pointer-events-none opacity-30",children:[(0,i.jsx)("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-gradient-to-b from-[#11cd68]/20 to-transparent rounded-full blur-3xl"}),(0,i.jsx)("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-gradient-to-t from-[#007a78]/15 to-transparent rounded-full blur-3xl"})]}),(0,i.jsxs)("div",{className:"transition-all duration-300 ".concat(u?"ml-64":"ml-20"),children:[(0,i.jsx)(n.E.div,{className:"sticky top-0 z-40 border-b border-[#11cd68]/20 bg-[#007a78]/95 backdrop-blur-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:(0,i.jsx)("div",{className:"px-8 py-5",children:(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Billing & Plans"}),(0,i.jsx)("p",{className:"text-sm text-[#d1f2eb] mt-1",children:"Manage your subscription and billing"})]})})})}),(0,i.jsxs)("div",{className:"px-8 py-12 relative z-10",children:[b?(0,i.jsxs)(n.E.div,{variants:w,initial:"hidden",animate:"visible",className:"bg-white rounded-lg border border-[#11cd68]/20 p-8 mb-12",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,i.jsx)(r.Z,{className:"w-8 h-8 text-[#11cd68]"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Current Subscription"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Plan Name"}),(0,i.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:b.plan_name||"Standard"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Interviews Available"}),(0,i.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:b.interview_limit||"âˆž"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Status"}),(0,i.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800",children:b.status||"Active"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Renewal Date"}),(0,i.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:b.renewal_date?new Date(b.renewal_date).toLocaleDateString():"N/A"})]})]})]}):(0,i.jsxs)(n.E.div,{variants:w,initial:"hidden",animate:"visible",className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 mb-12",children:[(0,i.jsx)("p",{className:"text-yellow-800 mb-4",children:"No active subscription found."}),(0,i.jsx)("p",{className:"text-yellow-700 text-sm",children:"Choose a plan below to get started."})]}),(0,i.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Available Plans"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{interviews:50,price:199},{interviews:100,price:300},{interviews:300,price:1e3},{interviews:500,price:2e3},{interviews:1e3,price:3500}].map((e,t)=>(0,i.jsxs)(n.E.div,{variants:w,initial:"hidden",animate:"visible",transition:{delay:.1*t},className:"rounded-lg border border-[#11cd68]/20 p-6 bg-white hover:shadow-lg transition-all",children:[(0,i.jsxs)("h4",{className:"text-lg font-semibold text-slate-900 mb-2",children:[e.interviews," Interviews"]}),(0,i.jsxs)("p",{className:"text-3xl font-bold text-[#007a78] mb-4",children:["$",e.price,(0,i.jsx)("span",{className:"text-sm text-slate-600",children:"/month"})]}),(0,i.jsxs)("ul",{className:"space-y-3 mb-6",children:[(0,i.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,i.jsx)(c.Z,{className:"w-4 h-4 text-[#11cd68]"}),e.interviews," interviews per month"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,i.jsx)(c.Z,{className:"w-4 h-4 text-[#11cd68]"}),"Full AI feedback"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,i.jsx)(c.Z,{className:"w-4 h-4 text-[#11cd68]"}),"Priority support"]})]}),(0,i.jsx)("button",{className:"w-full py-2 rounded-lg bg-[#11cd68] text-white font-semibold hover:bg-[#0fb359] transition-all",children:"Subscribe Now"})]},t))})]})]})]})}},6788:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var i=s(7865);let l=(0,i.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},3731:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var i=s(7865);let l=(0,i.Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},3408:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var i=s(7865);let l=(0,i.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])}},function(e){e.O(0,[7653,9292,732,4102,2971,2472,1744],function(){return e(e.s=674)}),_N_E=e.O()}]);