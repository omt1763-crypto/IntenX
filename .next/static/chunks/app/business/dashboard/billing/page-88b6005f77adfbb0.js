(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6451],{8549:function(e,s,t){Promise.resolve().then(t.bind(t,4303))},4303:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var i=t(7437),l=t(2265),a=t(9376),n=t(3287),r=t(8416),c=t(4754),d=t(1233),o=t(9358),x=t(8985),m=t(2141);function h(){let e=(0,a.useRouter)(),{user:s,isAuthenticated:t,loading:h}=(0,d.a)(),{isOpen:b}=(0,o.A)(),[p,u]=(0,l.useState)(null),[f,j]=(0,l.useState)(!0),[g,v]=(0,l.useState)(!1),N=null==s?void 0:s.id;(0,l.useEffect)(()=>{h||N||t||s||e.replace("/auth/login")},[h,N,t,s,e]),(0,l.useEffect)(()=>{v(!0)},[]),(0,l.useEffect)(()=>{N&&g&&!h&&w()},[N,g,h]);let w=async()=>{try{if(!N)return;let{data:e}=await m.OQ.from("subscriptions").select("*").eq("user_id",N).single();u(e||null)}catch(e){console.error("[BusinessBilling] Error loading subscription:",e),u(null)}finally{j(!1)}},y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return!g||f?(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f0fdf4] via-white to-[#ecfdf5]",children:[(0,i.jsx)(x.Z,{role:"company"}),(0,i.jsx)("div",{className:"ml-20 lg:".concat(b?"ml-64":"ml-20"," transition-all duration-300 flex items-center justify-center min-h-screen"),children:(0,i.jsx)("p",{className:"text-slate-600",children:"Loading billing information..."})})]}):(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f0fdf4] via-white to-[#ecfdf5]",children:[(0,i.jsx)(x.Z,{role:"company"}),(0,i.jsxs)("div",{className:"fixed inset-0 pointer-events-none opacity-30",children:[(0,i.jsx)("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-gradient-to-b from-[#11cd68]/20 to-transparent rounded-full blur-3xl"}),(0,i.jsx)("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-gradient-to-t from-[#007a78]/15 to-transparent rounded-full blur-3xl"})]}),(0,i.jsxs)("div",{className:"transition-all duration-300 ".concat(b?"ml-64":"ml-20"),children:[(0,i.jsx)(n.E.div,{className:"sticky top-0 z-40 border-b border-[#11cd68]/20 bg-[#007a78]/95 backdrop-blur-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:(0,i.jsx)("div",{className:"px-8 py-5",children:(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Billing & Plans"}),(0,i.jsx)("p",{className:"text-sm text-[#d1f2eb] mt-1",children:"Manage your subscription and billing"})]})})})}),(0,i.jsxs)("div",{className:"px-8 py-12 relative z-10",children:[p?(0,i.jsxs)(n.E.div,{variants:y,initial:"hidden",animate:"visible",className:"bg-white rounded-lg border border-[#11cd68]/20 p-8 mb-12",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,i.jsx)(r.Z,{className:"w-8 h-8 text-[#11cd68]"}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Current Subscription"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Plan Name"}),(0,i.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:p.plan_name||"Standard"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Interviews Available"}),(0,i.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:p.interview_limit||"âˆž"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Status"}),(0,i.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800",children:p.status||"Active"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Renewal Date"}),(0,i.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:p.renewal_date?new Date(p.renewal_date).toLocaleDateString():"N/A"})]})]})]}):(0,i.jsxs)(n.E.div,{variants:y,initial:"hidden",animate:"visible",className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 mb-12",children:[(0,i.jsx)("p",{className:"text-yellow-800 mb-4",children:"No active subscription found."}),(0,i.jsx)("p",{className:"text-yellow-700 text-sm",children:"Choose a plan below to get started."})]}),(0,i.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Available Plans"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{interviews:50,price:199},{interviews:100,price:300},{interviews:300,price:1e3},{interviews:500,price:2e3},{interviews:1e3,price:3500}].map((e,s)=>(0,i.jsxs)(n.E.div,{variants:y,initial:"hidden",animate:"visible",transition:{delay:.1*s},className:"rounded-lg border border-[#11cd68]/20 p-6 bg-white hover:shadow-lg transition-all",children:[(0,i.jsxs)("h4",{className:"text-lg font-semibold text-slate-900 mb-2",children:[e.interviews," Interviews"]}),(0,i.jsxs)("p",{className:"text-3xl font-bold text-[#007a78] mb-4",children:["$",e.price,(0,i.jsx)("span",{className:"text-sm text-slate-600",children:"/month"})]}),(0,i.jsxs)("ul",{className:"space-y-3 mb-6",children:[(0,i.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,i.jsx)(c.Z,{className:"w-4 h-4 text-[#11cd68]"}),e.interviews," interviews per month"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,i.jsx)(c.Z,{className:"w-4 h-4 text-[#11cd68]"}),"Full AI feedback"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[(0,i.jsx)(c.Z,{className:"w-4 h-4 text-[#11cd68]"}),"Priority support"]})]}),(0,i.jsx)("button",{className:"w-full py-2 rounded-lg bg-[#11cd68] text-white font-semibold hover:bg-[#0fb359] transition-all",children:"Subscribe Now"})]},s))})]})]})]})}},4754:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});let i=(0,t(8301).Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])}},function(e){e.O(0,[9066,1341,3287,8985,2971,2117,1744],function(){return e(e.s=8549)}),_N_E=e.O()}]);