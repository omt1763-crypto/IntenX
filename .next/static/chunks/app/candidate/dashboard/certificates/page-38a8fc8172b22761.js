(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3421],{3982:function(e,t,r){Promise.resolve().then(r.bind(r,5048))},5048:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return CertificatesPage}});var i=r(7437),l=r(2265),s=r(4678),a=r(8879),n=r(2606),c=r(6867),o=r(7865);let d=(0,o.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),m=(0,o.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var h=r(892);function CertificatesPage(){var e;let{user:t,session:r}=(0,s.useAuth)(),[o,x]=(0,l.useState)([]),[u,g]=(0,l.useState)({total:0,completed:0}),[p,f]=(0,l.useState)(!0),[b,v]=(0,l.useState)(null);(0,l.useEffect)(()=>{var e;let i=null==t?void 0:t.id;if(!i&&(null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.id)&&(i=r.user.id),!i)try{let e=localStorage.getItem("auth_user");if(e){let t=JSON.parse(e);i=t.id}}catch(e){}i?(v(i),loadCertificates(i)):f(!1)},[null==t?void 0:t.id,null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.id]);let loadCertificates=async e=>{try{console.log("[Certificates] Loading interviews for userId:",e);let t=await fetch("/api/interviews?userId=".concat(e)),r=await t.json();if(!r.success||!r.data){console.log("[Certificates] No interviews found"),x(generateDefaultCertificates(0,0)),f(!1);return}let i=r.data;console.log("[Certificates] Found",i.length,"interviews");let l=i.length,s=i.map(e=>e.score||0).filter(e=>e>0),a=s.length>0?Math.round(s.reduce((e,t)=>e+t,0)/s.length):0,n=i.filter(e=>"completed"===e.status).length;console.log("[Certificates] Metrics:",{totalInterviews:l,averageScore:a,completedCount:n});let c=generateCertificates(l,a,n);x(c);let o=c.filter(e=>e.earned).length;g({total:c.length,completed:o})}catch(e){console.error("[Certificates] Error loading certificates:",e),x(generateDefaultCertificates(0,0))}finally{f(!1)}},generateCertificates=(e,t,r)=>{let i=[{id:1,title:"Interview Champion",description:"Completed your first interview",icon:n.Z,color:"bg-blue-50 text-blue-600",earned:e>=1,earnedDate:e>=1?new Date().toISOString().split("T")[0]:null,requirement:"Complete 1 interview",progress:Math.min(e,1)},{id:2,title:"Interview Enthusiast",description:"Completed 5 interviews",icon:c.Z,color:"bg-purple-50 text-purple-600",earned:e>=5,earnedDate:e>=5?new Date().toISOString().split("T")[0]:null,requirement:"Complete 5 interviews (".concat(Math.min(e,5),"/5)"),progress:Math.min(e/5,1)},{id:3,title:"Persistence Master",description:"Completed 10 interviews",icon:d,color:"bg-yellow-50 text-yellow-600",earned:e>=10,earnedDate:e>=10?new Date().toISOString().split("T")[0]:null,requirement:"Complete 10 interviews (".concat(Math.min(e,10),"/10 ").concat(e<10?"- ".concat(10-e," more needed"):"",")"),progress:Math.min(e/10,1)},{id:4,title:"Expert Communicator",description:"Achieved 80+ average score",icon:n.Z,color:"bg-green-50 text-green-600",earned:t>=80,earnedDate:t>=80?new Date().toISOString().split("T")[0]:null,requirement:"Average score of 80+ (Current: ".concat(t,")"),progress:Math.min(t/80,1)},{id:5,title:"Technical Wizard",description:"Mastered technical interviews",icon:c.Z,color:"bg-indigo-50 text-indigo-600",earned:e>=5&&t>=70,earnedDate:e>=5&&t>=70?new Date().toISOString().split("T")[0]:null,requirement:"Complete 5 technical interviews with 70+ avg (".concat(Math.min(e,5),"/5 - Score: ").concat(t,")"),progress:Math.min(e/5*(t/70),1)},{id:6,title:"Master Interviewer",description:"Achieved 90+ average score",icon:d,color:"bg-pink-50 text-pink-600",earned:t>=90,earnedDate:t>=90?new Date().toISOString().split("T")[0]:null,requirement:"Average score of 90+ (Current: ".concat(t," ").concat(t>=80?"- Unlocked when 90+":"- Locked until 80+ achieved",")"),progress:Math.min(t/90,1),locked:t<80}];return i},generateDefaultCertificates=(e,t)=>generateCertificates(e,t,0),w=o.filter(e=>e.earned),j=o.filter(e=>!e.earned);return(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-white to-cyan-50",children:[(0,i.jsx)(a.Z,{}),(0,i.jsx)("div",{className:"ml-64 pt-8 pb-16",children:(0,i.jsxs)("div",{className:"px-8 lg:px-12",children:[(0,i.jsxs)("div",{className:"mb-12",children:[(0,i.jsx)("h1",{className:"text-5xl font-bold text-slate-900 mb-2",children:"Certificates & Achievements"}),(0,i.jsx)("p",{className:"text-lg text-slate-600 font-light",children:"Earn certificates by completing milestones"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,i.jsxs)("div",{className:"rounded-3xl p-6 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,i.jsx)("p",{className:"text-slate-600 font-semibold mb-2",children:"Total Available"}),(0,i.jsx)("p",{className:"text-4xl font-bold text-cyan-500",children:u.total})]}),(0,i.jsxs)("div",{className:"rounded-3xl p-6 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,i.jsx)("p",{className:"text-slate-600 font-semibold mb-2",children:"Earned"}),(0,i.jsx)("p",{className:"text-4xl font-bold text-cyan-500",children:u.completed})]}),(0,i.jsxs)("div",{className:"rounded-3xl p-6 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,i.jsx)("p",{className:"text-slate-600 font-semibold mb-2",children:"Progress"}),(0,i.jsxs)("p",{className:"text-4xl font-bold text-cyan-500",children:[Math.round(u.completed/u.total*100),"%"]})]})]}),w.length>0&&(0,i.jsxs)("div",{className:"mb-12",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"\uD83C\uDFC6 Earned Certificates"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(e=>{let t=e.icon;return(0,i.jsxs)("div",{className:"rounded-3xl p-8 backdrop-blur-xl bg-gradient-to-br from-purple-100 to-cyan-100 border border-white/60 shadow-lg hover:shadow-xl transition-all",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,i.jsx)(t,{className:"w-12 h-12"}),(0,i.jsx)(d,{className:"w-5 h-5"})]}),(0,i.jsx)("h3",{className:"font-bold text-lg mb-1 text-slate-900",children:e.title}),(0,i.jsx)("p",{className:"text-sm text-slate-700 mb-4",children:e.description}),(0,i.jsxs)("p",{className:"text-xs text-slate-600 mb-4",children:["Earned on ",new Date(e.earnedDate).toLocaleDateString()]}),(0,i.jsxs)("button",{className:"w-full py-2 rounded-lg bg-white/20 hover:bg-white/30 transition-all text-sm font-semibold flex items-center justify-center gap-2",children:[(0,i.jsx)(m,{className:"w-4 h-4"}),"Share"]})]},e.id)})})]}),j.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"\uD83D\uDD12 Locked Certificates"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(e=>{let t=e.icon;return(0,i.jsxs)("div",{className:"rounded-3xl p-8 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg opacity-75",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,i.jsx)(t,{className:"w-12 h-12 text-slate-400"}),(0,i.jsx)(h.Z,{className:"w-5 h-5 text-slate-400"})]}),(0,i.jsx)("h3",{className:"font-bold text-lg mb-1 text-slate-900",children:e.title}),(0,i.jsx)("p",{className:"text-sm text-slate-700 mb-4",children:e.description}),(0,i.jsx)("div",{className:"bg-slate-200 rounded-full h-2 mb-2",children:(0,i.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-cyan-400 h-2 rounded-full",style:{width:"40%"}})}),(0,i.jsx)("p",{className:"text-xs text-slate-600",children:e.requirement})]},e.id)})})]})]})})]})}},6867:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var i=r(7865);let l=(0,i.Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},892:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var i=r(7865);let l=(0,i.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},function(e){e.O(0,[7653,8879,2971,2472,1744],function(){return e(e.s=3982)}),_N_E=e.O()}]);