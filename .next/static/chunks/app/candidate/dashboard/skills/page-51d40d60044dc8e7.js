(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4562],{6922:function(e,t,s){Promise.resolve().then(s.bind(s,8126))},8126:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return SkillsMapPage}});var l=s(7437),a=s(2265),i=s(4678),r=s(8879),n=s(907),c=s(8652),d=s(6867),o=s(5779),h=s(4033);function SkillsMapPage(){var e;let t=(0,h.useRouter)(),{user:s,session:x}=(0,i.useAuth)(),[m,u]=(0,a.useState)([]),[p,b]=(0,a.useState)(!0),[g,f]=(0,a.useState)(null),[v,j]=(0,a.useState)(0);(0,a.useEffect)(()=>{var e;let t=null==s?void 0:s.id;if(!t&&(null==x?void 0:null===(e=x.user)||void 0===e?void 0:e.id)&&(t=x.user.id),!t)try{let e=localStorage.getItem("auth_user");if(e){let s=JSON.parse(e);t=s.id}}catch(e){}t?(f(t),loadSkills(t)):b(!1)},[null==s?void 0:s.id,null==x?void 0:null===(e=x.user)||void 0===e?void 0:e.id]);let loadSkills=async e=>{try{console.log("[SkillsMap] Loading interviews for userId:",e);let t=await fetch("/api/interviews?userId=".concat(e)),s=await t.json();if(!s.success||!s.data){console.log("[SkillsMap] No interviews found"),u([]),b(!1);return}let l=s.data;console.log("[SkillsMap] Found",l.length,"interviews"),j(l.length);let a={},i=["Communication","Teamwork","Problem Solving","Coding","Data Structures","Algorithms"];l.forEach(e=>{let t=e.score||0,s=e.skills&&Array.isArray(e.skills)&&e.skills.length>0?e.skills:i.map(e=>({name:e,category:"Technical"}));s.forEach(s=>{let l="string"==typeof s?s:s.name,i=s.category||"Technical";l&&(a[l]||(a[l]={name:l,category:i,ratings:[],interviewIds:[],previousRatings:[]}),a[l].ratings.push(t||5),a[l].interviewIds.push(e.id))})}),console.log("[SkillsMap] Skills found:",Object.keys(a));let r=Object.values(a).map(e=>{let t=e.ratings.map(e=>Math.round((e||0)/10)),s=t.length>0?Math.round(t.reduce((e,t)=>e+t,0)/t.length):5,l=t.slice(-3),a=t.slice(0,-3),i=l.length>0?l.reduce((e,t)=>e+t,0)/l.length:0,r=a.length>0?a.reduce((e,t)=>e+t,0)/a.length:0,n="stable";return t.length>1&&(n=i>r+1?"up":i<r-1?"down":"stable"),{name:e.name,rating:s,category:e.category,trend:n,interviews:e.interviewIds.length,scores:e.ratings}}).sort((e,t)=>t.interviews-e.interviews);console.log("[SkillsMap] Processed skills:",r),u(r)}catch(e){console.error("[SkillsMap] Error loading skills:",e),u([])}finally{b(!1)}},N=m.filter(e=>"Technical"===e.category),y=m.filter(e=>"Soft Skills"===e.category),w=m.length>0?(m.reduce((e,t)=>e+t.rating,0)/m.length).toFixed(1):0,k=m.filter(e=>"up"===e.trend).length;return p?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-white to-cyan-50 flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-slate-600",children:"Loading skills..."})}):0===m.length?(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-white to-cyan-50",children:[(0,l.jsx)(r.Z,{}),(0,l.jsx)("div",{className:"ml-64 pt-8 pb-16",children:(0,l.jsx)("div",{className:"px-8 lg:px-12",children:(0,l.jsxs)("div",{className:"rounded-3xl p-12 backdrop-blur-xl bg-white/50 border border-white/60 text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"No Skills Data Yet"}),(0,l.jsx)("p",{className:"text-slate-600 mb-6",children:"Complete some interviews to start tracking your skills!"}),(0,l.jsx)("button",{onClick:()=>t.push("/candidate/dashboard/practice"),className:"px-8 py-3 bg-gradient-to-r from-purple-500 to-cyan-400 border border-purple-400 text-white rounded-xl hover:bg-cyan-500 transition-all font-semibold",children:"Start an Interview"})]})})})]}):(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-white to-cyan-50",children:[(0,l.jsx)(r.Z,{}),(0,l.jsx)("div",{className:"ml-64 pt-8 pb-16",children:(0,l.jsxs)("div",{className:"px-8 lg:px-12",children:[(0,l.jsx)(n.Z,{}),(0,l.jsxs)("div",{className:"mb-12",children:[(0,l.jsx)("h1",{className:"text-5xl font-bold text-slate-900 mb-2",children:"Skills Map"}),(0,l.jsx)("p",{className:"text-lg text-slate-600 font-light",children:"Track and improve your skills based on your interviews"})]}),N.length>0&&(0,l.jsxs)("div",{className:"mb-12",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[(0,l.jsx)(c.Z,{className:"w-6 h-6"}),"Technical Skills"]}),(0,l.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,l.jsxs)("div",{className:"rounded-2xl p-6 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-bold text-slate-900",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-slate-600",children:[e.interviews," interview",1!==e.interviews?"s":""," completed"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-3xl font-bold text-cyan-500",children:[e.rating,"/10"]}),(0,l.jsx)("p",{className:"text-xs font-semibold ".concat("up"===e.trend?"text-cyan-600":"down"===e.trend?"text-red-600":"text-slate-600"),children:"up"===e.trend?"↑ Improving":"down"===e.trend?"↓ Needs Work":"→ Stable"})]})]}),(0,l.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-3",children:(0,l.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-cyan-400 h-3 rounded-full",style:{width:"".concat(e.rating/10*100,"%")}})})]},e.name))})]}),y.length>0&&(0,l.jsxs)("div",{className:"mb-12",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[(0,l.jsx)(d.Z,{className:"w-6 h-6"}),"Soft Skills"]}),(0,l.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,l.jsxs)("div",{className:"rounded-2xl p-6 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-bold text-slate-900",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-slate-600",children:[e.interviews," interview",1!==e.interviews?"s":""," completed"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-3xl font-bold text-cyan-500",children:[e.rating,"/10"]}),(0,l.jsx)("p",{className:"text-xs font-semibold ".concat("up"===e.trend?"text-cyan-600":"down"===e.trend?"text-red-600":"text-slate-600"),children:"up"===e.trend?"↑ Improving":"down"===e.trend?"↓ Needs Work":"→ Stable"})]})]}),(0,l.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-3",children:(0,l.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-cyan-400 h-3 rounded-full",style:{width:"".concat(e.rating/10*100,"%")}})})]},e.name))})]}),(0,l.jsxs)("div",{className:"rounded-3xl p-8 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[(0,l.jsx)(o.Z,{className:"w-6 h-6"}),"Overall Assessment"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-slate-600 font-semibold mb-2",children:"Average Rating"}),(0,l.jsx)("p",{className:"text-5xl font-bold text-cyan-500",children:w}),(0,l.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"/10"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-slate-600 font-semibold mb-2",children:"Total Interviews"}),(0,l.jsx)("p",{className:"text-5xl font-bold text-cyan-500",children:v})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-slate-600 font-semibold mb-2",children:"Skills Improving"}),(0,l.jsx)("p",{className:"text-5xl font-bold text-cyan-600",children:k}),(0,l.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"trending up"})]})]})]})]})})]})}},907:function(e,t,s){"use strict";s.d(t,{Z:function(){return DashboardBreadcrumb}});var l=s(7437),a=s(4033),i=s(160),r=s(4213);function DashboardBreadcrumb(){let e=(0,a.useRouter)(),t=(0,a.usePathname)();if("/candidate/dashboard"===t||"/recruiter/dashboard"===t||"/business/dashboard"===t)return null;let s=(()=>{let e=t.split("/").filter(Boolean);if(e.length<=2)return[];let s=[];if("candidate"===e[0]?s.push({label:"Dashboard",path:"/candidate/dashboard",icon:"home"}):"recruiter"===e[0]?s.push({label:"Dashboard",path:"/recruiter/dashboard",icon:"home"}):"business"===e[0]&&s.push({label:"Dashboard",path:"/business/dashboard",icon:"home"}),e.length>2){let t=e[2],l={practice:"Practice Types",skills:"Skills Map",resume:"Resume Analysis",certificates:"Certificates",profile:"My Profile",activity:"Activity",billing:"Billing",history:"Interview History",applicants:"Applicants",jobs:"Jobs",detail:"Applicant Details"};l[t]&&s.push({label:l[t],path:"/".concat(e[0],"/dashboard/").concat(t),icon:"document"})}return s})();return 0===s.length?null:(0,l.jsx)("div",{className:"flex items-center gap-1 text-sm text-slate-600 mb-6",children:s.map((t,a)=>(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsxs)("button",{onClick:()=>e.push(t.path),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-slate-200/50 hover:text-slate-900 transition-all duration-200 font-medium text-slate-700 hover:font-semibold",children:["home"===t.icon&&(0,l.jsx)(i.Z,{className:"w-4 h-4"}),t.label]}),a<s.length-1&&(0,l.jsx)(r.Z,{className:"w-4 h-4 text-slate-400"})]},t.path))})}},6867:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var l=s(7865);let a=(0,l.Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},4213:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var l=s(7865);let a=(0,l.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},160:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var l=s(7865);let a=(0,l.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},8652:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var l=s(7865);let a=(0,l.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])}},function(e){e.O(0,[7653,8879,2971,2472,1744],function(){return e(e.s=6922)}),_N_E=e.O()}]);