(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4288],{6583:function(e,t,s){Promise.resolve().then(s.bind(s,8996))},8996:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(7437),r=s(2265),l=s(9376),o=s(2141),i=s(1233),n=s(9358),d=s(8985),c=s(5291),x=s(1359),h=s(8512),b=s(1338),m=s(7941),u=s(9421);function p(){let e=(0,l.useRouter)(),{user:t,isAuthenticated:s,loading:p,role:g}=(0,i.a)(),{isOpen:j}=(0,n.A)(),[f,v]=(0,r.useState)([]),[y,N]=(0,r.useState)([]),[w,D]=(0,r.useState)({totalJobs:0,totalCandidates:0,totalInterviews:0,shortlisted:0,jobPercent:0,jobPercentDirection:"none",newJobsThisMonth:0,newApplicationsThisMonth:0,interviewsScheduledThisMonth:0,candidatesHiredThisMonth:0}),[k,C]=(0,r.useState)(!0),[T,M]=(0,r.useState)(!1),_=null==t?void 0:t.id;console.log("[RecruiterDashboard] Rendered. authUser:",null==t?void 0:t.id,"role:",g,"authLoading:",p,"isAuthenticated:",s),(0,r.useEffect)(()=>{p||_||s||t||(console.log("[RecruiterDashboard] No authentication found, redirecting to login"),e.replace("/auth/login"))},[p,_,s,t,e]),(0,r.useEffect)(()=>{!p&&g&&"recruiter"!==g&&(console.log("[RecruiterDashboard] User role is",g,", not recruiter. Redirecting to","business"===g?"/business/dashboard":"/auth/login"),e.replace("business"===g?"/business/dashboard":"/auth/login"))},[p,g,e]),(0,r.useEffect)(()=>{M(!0)},[]);let S=(0,r.useCallback)(async()=>{try{if(!_)return;console.log("[RecruiterDashboard] Starting dashboard load for user:",_),console.log("[RecruiterDashboard] User type:",typeof _),D(e=>({...e,totalJobs:0,totalCandidates:0,totalInterviews:0,shortlisted:0})),C(!1);try{console.log("[RecruiterDashboard] Fetching jobs summary...");let e=await fetch("/api/recruiter/jobs-summary?recruiterId=".concat(_)),t=await e.json();if(t&&t.success&&t.jobs){let e=t.jobs;console.log("[RecruiterDashboard] Jobs summary fetched:",e.length,"jobs"),v(e),D(t=>({...t,totalJobs:e.length,totalCandidates:e.reduce((e,t)=>e+(t.applicant_count||0),0),totalInterviews:e.reduce((e,t)=>e+(t.interview_count||0),0)})),console.log("[RecruiterDashboard] Fetching applicants...");let s=await fetch("/api/get-applicants?recruiterId=".concat(_)),a=await s.json();a&&a.data&&(console.log("[RecruiterDashboard] Applicants fetched:",a.data.length),N(a.data.slice(0,5))),console.log("[RecruiterDashboard] Dashboard jobs loaded:",e.length,"jobs")}else{console.warn("[RecruiterDashboard] Jobs summary API failed, trying fallback...");let e=await fetch("/api/get-applicants?recruiterId=".concat(_)),t=await e.json();if(t&&t.data&&t.data.length>0){let e={},s={};t.data.forEach(t=>{let a=t.job_id;if(a&&!e[a]){var r,l,o;let s=(null===(r=t.jobs)||void 0===r?void 0:r.title)||t.position_applied||"Unknown Position",i=(null===(l=t.jobs)||void 0===l?void 0:l.company)||"Unknown Company";e[a]={id:(null===(o=t.jobs)||void 0===o?void 0:o.id)||a,title:s,company:i,status:"open",created_at:t.created_at,applicant_count:0,interview_count:0}}a&&(s[a]=(s[a]||0)+1)}),Object.keys(e).forEach(t=>{e[t].applicant_count=s[t]||0});let a=Object.values(e);if(0===a.length){console.log("[RecruiterDashboard] No jobs with job_id, grouping by position_applied...");let e={},s={};t.data.forEach(t=>{let a=t.position_applied||"Unknown Position";if(!e[a]){var r;e[a]={id:a,title:a,company:(null===(r=t.jobs)||void 0===r?void 0:r.company)||"Unknown Company",status:"open",created_at:t.created_at,applicant_count:0,interview_count:0}}s[a]=(s[a]||0)+1}),Object.keys(e).forEach(t=>{e[t].applicant_count=s[t]||0}),a=Object.values(e)}v(a),N(t.data.slice(0,5)),D(e=>({...e,totalJobs:a.length,totalCandidates:t.data.length}))}else v([])}}catch(e){console.warn("[RecruiterDashboard] Jobs fetch error:",e),v([])}let e=async()=>{try{let e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)).toISOString(),s=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()-1,1)).toISOString(),a=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,1)),{count:r,error:l}=await o.OQ.from("jobs").select("*",{count:"exact"}).gte("created_at",t).lt("created_at",a.toISOString()).eq("recruiter_id",_);l&&console.warn("[RecruiterDashboard] Error counting this month jobs:",l);let{count:i,error:n}=await o.OQ.from("jobs").select("*",{count:"exact"}).gte("created_at",s).lt("created_at",t).eq("recruiter_id",_);n&&console.warn("[RecruiterDashboard] Error counting previous month jobs:",n);let d=r||0,c=i||0,x=0,h="none";0===c&&d>0?(x=100,h="up"):0===c&&0===d?(x=0,h="none"):h=(x=Math.round((d-c)/Math.max(1,c)*100))>0?"up":x<0?"down":"none",D(e=>({...e,totalJobs:e.totalJobs||d,jobPercent:x,jobPercentDirection:h,newJobsThisMonth:d})),console.log("[RecruiterDashboard] Job percent calc:",{thisMonth:d,prevMonth:c,percent:x,direction:h})}catch(e){console.warn("[RecruiterDashboard] computeJobPercent error:",e)}};await e()}catch(e){console.error("[RecruiterDashboard] Error:",e),C(!1)}},[_]);return((0,r.useEffect)(()=>{console.log("[RecruiterDashboard] Data load effect. userId:",_,"mounted:",T,"authLoading:",p),_&&T&&!p?(console.log("[RecruiterDashboard] Loading dashboard for user:",_),S()):!T||p||_||(console.log("[RecruiterDashboard] No user found, checking auth status"),C(!1))},[_,T,p]),T)?(0,a.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-white via-blue-50/30 to-purple-50/20 text-slate-900",suppressHydrationWarning:!0,children:[(0,a.jsx)(d.Z,{role:"recruiter"},"recruiter-sidebar"),(0,a.jsxs)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white via-blue-50/30 to-purple-50/20"}),(0,a.jsx)("div",{className:"absolute top-20 right-1/3 w-[600px] h-[600px] bg-gradient-to-br from-blue-300/40 via-blue-200/20 to-transparent rounded-full blur-3xl opacity-40 animate-pulse",style:{animation:"pulse 8s ease-in-out infinite"}}),(0,a.jsx)("div",{className:"absolute bottom-1/4 left-1/4 w-[500px] h-[500px] bg-gradient-to-br from-purple-300/30 via-purple-200/15 to-transparent rounded-full blur-3xl opacity-30 animate-pulse",style:{animation:"pulse 10s ease-in-out infinite 2s"}}),(0,a.jsx)("div",{className:"absolute top-1/2 right-0 w-[400px] h-[400px] bg-gradient-to-br from-cyan-300/30 via-cyan-200/15 to-transparent rounded-full blur-3xl opacity-25"})]}),(0,a.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-40 border-b border-white/40 bg-white/60 backdrop-blur-2xl transition-all duration-300 lg:left-64",children:(0,a.jsxs)("div",{className:"mx-auto px-4 md:px-6 lg:px-8 py-3 flex justify-between items-center relative z-10",children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("span",{className:"text-lg font-bold text-slate-900",children:"Dashboard"})}),(0,a.jsxs)("button",{onClick:()=>e.push("/recruiter/dashboard/jobs"),className:"flex items-center gap-2 px-6 py-2 backdrop-blur-xl bg-gradient-to-r from-blue-600 to-blue-700 border border-blue-500 hover:border-blue-400 text-white rounded-2xl hover:shadow-lg hover:shadow-blue-600/40 hover:from-blue-700 hover:to-blue-800 transition-all font-semibold text-sm hover:scale-105",children:[(0,a.jsx)(x.Z,{size:18}),"Create Job"]})]})}),(0,a.jsx)("div",{className:"relative z-10 transition-all duration-300 ".concat(j?"lg:ml-64":"lg:ml-20"," pt-24 pb-16 min-h-screen"),children:(0,a.jsx)("div",{className:"w-full px-8 lg:px-12",children:k?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)("p",{className:"text-slate-600 text-lg",children:"Loading dashboard..."})}):_||s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Performance Analytics"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[(0,a.jsxs)(c.Z,{hover:!0,children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Jobs Posted Trend"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Last 7 days"})]}),(0,a.jsx)("div",{className:"h-80 flex items-end justify-between gap-4 px-6 py-6 bg-gray-50 rounded-lg",children:f.length>0?(()=>{let e=Array.from({length:7},(e,t)=>{let s=new Date;return s.setDate(s.getDate()-(6-t)),s.toDateString()}).map(e=>f.filter(t=>new Date(t.created_at).toDateString()===e).length),t=Math.max(...e,1);return e.map((e,s)=>(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-3 group",children:[(0,a.jsx)("div",{className:"w-full h-full bg-gradient-to-t from-blue-500 to-blue-400 rounded-lg shadow-md hover:shadow-lg transition group-hover:from-blue-600 group-hover:to-blue-500",style:{height:"".concat(e/t*240,"px")}}),(0,a.jsx)("span",{className:"text-xs text-gray-600 font-semibold",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][s]}),(0,a.jsx)("span",{className:"text-xs text-gray-700 font-bold",children:e})]},s))})():(0,a.jsx)("div",{className:"w-full flex items-center justify-center text-gray-500",children:"No job data"})}),(0,a.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200 grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Total"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:w.totalJobs})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"This Month"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600 mt-2",children:["+",w.newJobsThisMonth]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Change"}),(0,a.jsxs)("p",{className:"text-2xl font-bold mt-2 ".concat("up"===w.jobPercentDirection?"text-green-600":"down"===w.jobPercentDirection?"text-red-600":"text-gray-600"),children:["up"===w.jobPercentDirection?"↑":"down"===w.jobPercentDirection?"↓":"→"," ",w.jobPercent,"%"]})]})]})]}),(0,a.jsxs)(c.Z,{hover:!0,children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Candidates Pipeline"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Application status breakdown"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Total Applications"}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:w.totalCandidates})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 h-3 rounded-full",style:{width:"100%"}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Under Review"}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:Math.floor(.4*w.totalCandidates)})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-400 h-3 rounded-full",style:{width:"40%"}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Shortlisted"}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:w.shortlisted})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-3 rounded-full",style:{width:"".concat(w.totalCandidates>0?w.shortlisted/w.totalCandidates*100:0,"%")}})})]})]}),(0,a.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"New Applications"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-3",children:w.newApplicationsThisMonth})]})]}),(0,a.jsxs)(c.Z,{hover:!0,children:[(0,a.jsxs)("div",{className:"mb-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Interview Schedule"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Upcoming interviews"})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Total Interviews"}),(0,a.jsx)("span",{className:"text-lg font-bold text-green-600",children:w.totalInterviews})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-4 rounded-full transition-all",style:{width:"100%"}})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 rounded-lg p-6 border border-blue-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 font-semibold",children:"Scheduled"}),(0,a.jsx)("p",{className:"text-4xl font-bold text-blue-600 mt-3",children:w.interviewsScheduledThisMonth})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100/50 rounded-lg p-6 border border-green-200",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 font-semibold",children:"Completed"}),(0,a.jsx)("p",{className:"text-4xl font-bold text-green-600 mt-3",children:w.totalInterviews-w.interviewsScheduledThisMonth})]})]})]})]}),(0,a.jsxs)(c.Z,{hover:!0,children:[(0,a.jsxs)("div",{className:"mb-10",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Hiring Summary"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"This month's progress"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Candidates Hired"}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:w.candidatesHiredThisMonth})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-3 rounded-full",style:{width:"".concat(Math.min(25*w.candidatesHiredThisMonth,100),"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Jobs Posted"}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:w.newJobsThisMonth})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-400 h-3 rounded-full",style:{width:"".concat(Math.min(25*w.newJobsThisMonth,100),"%")}})})]})]}),(0,a.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Conversion"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:[w.totalCandidates>0?(w.shortlisted/w.totalCandidates*100).toFixed(1):0,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Success Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600 mt-2",children:[w.candidatesHiredThisMonth>0?Math.floor(w.candidatesHiredThisMonth/w.newJobsThisMonth*100):0,"%"]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-16",children:[(0,a.jsxs)("div",{className:"mb-10",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Key Metrics"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mt-3",children:"Overview of your recruitment activity"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[(0,a.jsxs)(c.Z,{gradient:"blue",hover:!0,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-gray-700 text-sm font-semibold",children:"Total Jobs Posted"})}),(0,a.jsx)("div",{className:"w-14 h-14 bg-blue-300 rounded-xl flex items-center justify-center",children:(0,a.jsx)(h.Z,{size:32,className:"text-blue-700"})})]}),(0,a.jsx)("p",{className:"text-5xl font-bold text-gray-900 mb-3",children:w.totalJobs}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"active job postings"}),(0,a.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600 text-xs font-semibold",children:[(0,a.jsx)(x.Z,{size:16}),(0,a.jsxs)("span",{children:["up"===w.jobPercentDirection?"↑":"down"===w.jobPercentDirection?"↓":"→"," ",w.jobPercent,"% this month"]})]})})]}),(0,a.jsxs)(c.Z,{gradient:"purple",hover:!0,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-gray-700 text-sm font-semibold",children:"Total Candidates"})}),(0,a.jsx)("div",{className:"w-14 h-14 bg-purple-300 rounded-xl flex items-center justify-center",children:(0,a.jsx)(b.Z,{size:32,className:"text-purple-700"})})]}),(0,a.jsx)("p",{className:"text-5xl font-bold text-gray-900 mb-3",children:w.totalCandidates}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"total applications"}),(0,a.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600 text-xs font-semibold",children:[(0,a.jsx)(x.Z,{size:16}),(0,a.jsxs)("span",{children:["+",w.newApplicationsThisMonth," this month"]})]})})]}),(0,a.jsxs)(c.Z,{gradient:"yellow",hover:!0,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-gray-700 text-sm font-semibold",children:"Total Interviews"})}),(0,a.jsx)("div",{className:"w-14 h-14 bg-yellow-300 rounded-xl flex items-center justify-center",children:(0,a.jsx)(m.Z,{size:32,className:"text-yellow-700"})})]}),(0,a.jsx)("p",{className:"text-5xl font-bold text-gray-900 mb-3",children:w.totalInterviews}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"conducted"}),(0,a.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600 text-xs font-semibold",children:[(0,a.jsx)(x.Z,{size:16}),(0,a.jsxs)("span",{children:["+",w.interviewsScheduledThisMonth," scheduled"]})]})})]}),(0,a.jsxs)(c.Z,{gradient:"pink",hover:!0,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-gray-700 text-sm font-semibold",children:"Shortlisted"})}),(0,a.jsx)("div",{className:"w-14 h-14 bg-pink-300 rounded-xl flex items-center justify-center",children:(0,a.jsx)(u.Z,{size:32,className:"text-pink-700"})})]}),(0,a.jsx)("p",{className:"text-5xl font-bold text-gray-900 mb-3",children:w.shortlisted}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"candidates"}),(0,a.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600 text-xs font-semibold",children:[(0,a.jsx)(x.Z,{size:16}),(0,a.jsxs)("span",{children:["+",w.candidatesHiredThisMonth," hired"]})]})})]})]})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("button",{onClick:()=>e.push("/recruiter/dashboard/jobs"),className:"flex items-center gap-2 px-8 py-3 backdrop-blur-xl bg-gradient-to-r from-blue-600 to-blue-700 border border-blue-500 hover:border-blue-400 text-white rounded-xl hover:shadow-lg hover:shadow-blue-600/40 hover:from-blue-700 hover:to-blue-800 transition-all font-semibold text-sm hover:scale-105",children:[(0,a.jsx)(x.Z,{size:18}),"Create New Job"]})}),(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-3xl p-8 backdrop-blur-2xl bg-white/50 border border-white/60 shadow-xl mb-12",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 opacity-50"}),(0,a.jsx)("div",{className:"absolute -top-1/2 -right-1/2 w-[600px] h-[600px] bg-gradient-to-br from-blue-200/30 to-purple-200/20 rounded-full blur-3xl opacity-0 hover:opacity-40 transition-opacity duration-500"}),(0,a.jsxs)("div",{className:"relative z-10 mb-8 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Your Jobs"}),(0,a.jsx)("p",{className:"text-slate-600 text-sm mt-1",children:"Manage your active job postings"})]}),(0,a.jsx)("button",{onClick:()=>e.push("/recruiter/dashboard/jobs"),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-blue-600/40 transition-all hover:scale-105",children:"View All Jobs →"})]}),k?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("p",{className:"text-slate-600 mt-3",children:"Loading jobs..."})]}):0===f.length?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"bg-gradient-to-br from-blue-400/20 to-blue-300/10 backdrop-blur-lg rounded-full p-4 border border-blue-300/30",children:(0,a.jsx)(h.Z,{className:"text-blue-600",size:48})})}),(0,a.jsx)("p",{className:"text-slate-700 font-semibold mb-2 text-lg",children:"No jobs posted yet"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm mb-6",children:"Create your first job posting to start recruiting"}),(0,a.jsx)("button",{onClick:()=>{console.log("[Dashboard] Create Job button clicked"),e.push("/recruiter/dashboard/jobs")},className:"relative z-20 px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-2xl hover:shadow-lg hover:shadow-blue-600/40 transition-all font-semibold hover:scale-105 cursor-pointer",children:"Create Job"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:f.slice(0,6).map(t=>(0,a.jsxs)("div",{onClick:()=>e.push("/recruiter/dashboard/applicants?jobId=".concat(t.id)),className:"group relative overflow-hidden rounded-2xl p-6 backdrop-blur-lg bg-gradient-to-br from-white/80 to-white/40 border border-white/60 hover:border-blue-400/80 cursor-pointer hover:shadow-xl transition-all duration-300 hover:-translate-y-2",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-purple-500/10 to-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)("div",{className:"absolute -top-32 -right-32 w-64 h-64 bg-gradient-to-br from-blue-300/40 to-purple-300/30 rounded-full blur-3xl opacity-0 group-hover:opacity-50 transition-opacity duration-500"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-base font-bold text-slate-900 group-hover:text-blue-600 transition-all truncate",children:t.title||"Untitled Position"}),(0,a.jsx)("p",{className:"text-xs text-slate-600 mt-1 font-medium",children:t.company||"Unknown Company"})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold whitespace-nowrap flex-shrink-0 ".concat("open"===t.status||"active"===t.status?"bg-emerald-100 text-emerald-700":"closed"===t.status?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:(t.status||"active").charAt(0).toUpperCase()+(t.status||"active").slice(1)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 py-4 border-y border-slate-200/50",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:t.applicant_count||0}),(0,a.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Applications"})]}),(0,a.jsxs)("div",{className:"text-center border-l border-slate-200/50",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:t.interview_count||0}),(0,a.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Interviews"})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("p",{className:"text-xs text-slate-500 mb-3",children:["Posted: ",new Date(t.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),e.push("/recruiter/dashboard/applicants?jobId=".concat(t.id))},className:"w-full px-3 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white text-sm rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition-all shadow-md hover:shadow-lg opacity-0 group-hover:opacity-100",children:"View Applicants"})]})]})]},t.id))})]}),(0,a.jsxs)("div",{id:"applicants-section",className:"relative overflow-hidden rounded-3xl p-8 backdrop-blur-2xl bg-white/50 border border-white/60 shadow-xl",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 to-blue-500/5 opacity-50"}),(0,a.jsx)("div",{className:"absolute -bottom-1/2 -left-1/2 w-[600px] h-[600px] bg-gradient-to-br from-cyan-200/30 to-blue-200/20 rounded-full blur-3xl opacity-0 hover:opacity-40 transition-opacity duration-500"}),(0,a.jsxs)("div",{className:"relative z-10 mb-8 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:"Applicants"}),(0,a.jsx)("p",{className:"text-slate-600 text-sm mt-2",children:"All candidates who applied for your jobs"})]}),y.length>0&&(0,a.jsxs)("button",{onClick:()=>e.push("/recruiter/dashboard/applicants"),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-2xl font-semibold hover:shadow-lg hover:shadow-blue-600/40 transition-all hover:scale-105",children:["View All (",y.length,")"]})]}),k?(0,a.jsx)("p",{className:"text-slate-600",children:"Loading applicants..."}):0===y.length?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)("div",{className:"bg-gradient-to-br from-cyan-400/20 to-cyan-300/10 backdrop-blur-lg rounded-full p-4 border border-cyan-300/30",children:(0,a.jsx)(b.Z,{className:"text-cyan-600",size:48})})}),(0,a.jsx)("p",{className:"text-slate-700 font-semibold mb-2 text-lg",children:"No applicants yet"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm",children:"Share your job links with candidates to receive applications"})]}):(0,a.jsx)("div",{className:"overflow-x-auto rounded-2xl border border-white/40 backdrop-blur-lg bg-white/30",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-white/40 bg-gradient-to-r from-white/40 to-white/20",children:[(0,a.jsx)("th",{className:"text-left py-4 px-6 font-bold text-slate-700 text-sm",children:"Name"}),(0,a.jsx)("th",{className:"text-left py-4 px-6 font-bold text-slate-700 text-sm",children:"Email"}),(0,a.jsx)("th",{className:"text-left py-4 px-6 font-bold text-slate-700 text-sm",children:"Position Applied"}),(0,a.jsx)("th",{className:"text-left py-4 px-6 font-bold text-slate-700 text-sm",children:"Applied On"})]})}),(0,a.jsx)("tbody",{children:y.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-white/30 hover:bg-white/30 transition-colors ".concat(t%2==0?"bg-white/10":"bg-white/5"),children:[(0,a.jsx)("td",{className:"py-4 px-6 text-slate-900 font-semibold",children:e.name}),(0,a.jsx)("td",{className:"py-4 px-6 text-slate-600 text-sm",children:e.email}),(0,a.jsx)("td",{className:"py-4 px-6 text-slate-600",children:e.position_applied}),(0,a.jsx)("td",{className:"py-4 px-6 text-slate-500 text-sm",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]})]}):(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:(0,a.jsxs)("p",{className:"text-yellow-800",children:["Please ",(0,a.jsx)("a",{href:"/auth/login",className:"font-semibold underline",children:"log in"})," to access the dashboard."]})})})}),(0,a.jsx)("style",{children:"\n        @keyframes pulse {\n          0%, 100% { opacity: 0.6; }\n          50% { opacity: 0.3; }\n        }\n        \n        @keyframes glow {\n          0%, 100% { \n            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5), 0 8px 32px rgba(0, 0, 0, 0.1);\n          }\n          50% { \n            box-shadow: 0 0 40px rgba(139, 92, 246, 0.6), 0 8px 32px rgba(0, 0, 0, 0.15);\n          }\n        }\n        \n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-10px); }\n        }\n        \n        .hover:scale-102:hover {\n          transform: scale(1.02);\n        }\n      "})]}):null}},5291:function(e,t,s){"use strict";var a=s(7437),r=s(4508);let l={pink:"bg-gradient-to-br from-flow-pink/50 via-card to-card",blue:"bg-gradient-to-br from-flow-blue/20 via-card to-card",yellow:"bg-gradient-to-br from-flow-yellow/30 via-card to-card",purple:"bg-gradient-to-br from-flow-purple/10 via-card to-card",none:"bg-card"};t.Z=e=>{let{children:t,className:s,gradient:o="none",hover:i=!1}=e;return(0,a.jsx)("div",{className:(0,r.cn)("rounded-lg sm:rounded-2xl border border-border/50 p-4 sm:p-6 shadow-card",l[o],i&&"transition-all duration-300 hover:shadow-lg hover:-translate-y-1",s),children:t})}},4508:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var a=s(1994),r=s(3335);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},9421:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8301).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},1359:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8301).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}},function(e){e.O(0,[9066,1341,6137,8985,2971,2117,1744],function(){return e(e.s=6583)}),_N_E=e.O()}]);