exports.id=6938,exports.ids=[6938],exports.modules={86651:(e,t,r)=>{Promise.resolve().then(r.bind(r,43005)),Promise.resolve().then(r.bind(r,57296)),Promise.resolve().then(r.bind(r,55469)),Promise.resolve().then(r.bind(r,9801))},48270:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},43005:(e,t,r)=>{"use strict";r.d(t,{default:()=>o}),r(17577);var s=r(35047);function o(){return(0,s.usePathname)(),null}},57296:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(10326);function o({children:e}){return s.jsx(s.Fragment,{children:e})}r(17577)},99683:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var s=r(10326),o=r(90434),i=r(35047);let n=(0,r(87926).Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var a=r(56929),l=r(8007),d=r(65014),c=r(79361),u=r(80380),h=r(56636),x=r(76125),m=r(55469),p=r(9801);function g({role:e="company"}){let t=(0,i.useRouter)(),r=(0,i.usePathname)(),{logout:g}=(0,m.a)(),{isOpen:w,setIsOpen:v}=(0,p.A)(),b=()=>{t.push("/auth/logout")},y="candidate"===e?"/candidate/dashboard":"recruiter"===e?"/recruiter/dashboard":"company"===e?"/business/dashboard":"/dashboard",f=e=>e===y?r===y:r.startsWith(e),j=[{href:`${y}`,label:"Dashboard",icon:n},{href:`${y}/profile`,label:"My Profile",icon:a.Z},{href:`${y}/jobs`,label:"Jobs",icon:l.Z},{href:`${y}/billing`,label:"Billing",icon:d.Z},..."candidate"!==e?[{href:`${y}/applicants`,label:"Applicants",icon:c.Z}]:[{href:"/interview/mock",label:"Mock Interviews",icon:n}]];return(0,s.jsxs)("div",{className:`fixed left-0 top-0 h-screen z-50 bg-gradient-to-b from-blue-600 via-blue-500 to-purple-600 shadow-lg transition-all duration-300 ${w?"w-64":"w-20"} border-r border-blue-400/20`,children:[(0,s.jsxs)("div",{className:"p-6 border-b border-blue-300/20 flex items-center justify-between",children:[w&&s.jsx("h2",{className:"text-xl font-bold text-white",children:"InterviewX"}),s.jsx("button",{onClick:()=>v(!w),className:"text-white hover:text-blue-100 transition-colors",children:w?s.jsx(u.Z,{size:20}):s.jsx(h.Z,{size:20})})]}),w&&(0,s.jsxs)("div",{className:"px-6 pt-4 pb-8",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-400 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"X"})})}),s.jsx("p",{className:"text-xs text-blue-100",children:"AI Interview Platform"})]}),s.jsx("nav",{className:"px-4 py-2 space-y-2",children:j.map((e,t)=>{let r=e.icon,i=f(e.href);return s.jsx(o.default,{href:e.href,children:(0,s.jsxs)("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 cursor-pointer group ${i?"bg-white/20 text-white shadow-lg":"text-blue-100 hover:bg-white/10"}`,children:[s.jsx(r,{className:`w-5 h-5 transition-colors ${i?"text-white":"text-blue-200 group-hover:text-white"}`}),w&&s.jsx("span",{className:`font-medium transition-colors ${i?"text-white":"group-hover:text-white"}`,children:e.label})]})},t)})}),w&&!1,(0,s.jsxs)("div",{className:"absolute bottom-6 left-4 right-4 pt-6 border-t border-blue-300/20 space-y-2",children:[w&&s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-2.5 shadow-lg",children:(0,s.jsxs)("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 px-3 py-1.5 rounded-lg bg-white/20 text-white hover:bg-white/30 transition-all duration-200 group font-medium text-xs shadow-md hover:shadow-lg hover:scale-105 active:scale-95",children:[s.jsx(x.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})}),!w&&s.jsx("button",{onClick:b,className:"w-full flex items-center justify-center p-2 rounded-lg bg-red-500/20 text-white hover:bg-red-500/30 transition-all duration-200 group font-medium shadow-md hover:shadow-lg",title:"Logout",children:s.jsx(x.Z,{className:"w-4 h-4"})}),w&&s.jsx("p",{className:"text-xs text-blue-100 text-center",children:"\xa9 2024 InterviewX"})]})]})}},55469:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>a,a:()=>l});var s=r(10326),o=r(17577),i=r(35442);let n=(0,o.createContext)();function a({children:e}){let[t,r]=(0,o.useState)(null),[a,l]=(0,o.useState)(null),[d,c]=(0,o.useState)(null),[u,h]=(0,o.useState)(!1),[x,m]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1),w=(e,t,r)=>{let s={user:e,session:t,role:r,timestamp:new Date().toISOString()};localStorage.setItem("authState",JSON.stringify(s)),console.log("[Auth] Auth state saved to localStorage")},v=()=>{localStorage.removeItem("authState"),localStorage.removeItem("interviewSetup"),localStorage.removeItem("resumeSkillsSaved"),console.log("[Auth] Auth state cleared from localStorage")},b=async(e,t)=>{try{console.log("[Signup] Attempting signup for:",e.email);let r=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,role:t})});if(!r.ok){let e=await r.json();throw console.error("[Signup] API error:",e),Error(e.error||"Signup failed")}let s=await r.json();return console.log("[Signup] Account created successfully! User must now log in."),{user:s.user,needsLogin:!0,message:s.message}}catch(e){throw console.error("[Signup] Error:",e),e}},y=async(e,t,s)=>{try{console.log("[AuthContext] Attempting login:",{email:e,role:s});let o=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,role:s})});if(console.log("[AuthContext] Login response status:",o.status),!o.ok){let e=await o.json();throw console.error("[AuthContext] Login error response:",e),Error(e.error||"Login failed")}let i=await o.json();console.log("[AuthContext] Login successful, setting session"),i.session&&(l(i.session),r(i.session.user||i.user));let n=i.user?.role||s;return c(n),m(!0),w(i.session?.user||i.user,i.session,n),console.log("[AuthContext] Auth state saved to localStorage"),i.user}catch(e){throw console.error("[AuthContext] Login error:",e),e}},f=async()=>{try{await i.OQ.auth.signOut(),l(null),r(null),c(null),m(!1),v(),console.log("[Auth] User logged out, auth state cleared")}catch(e){throw console.error("Logout error:",e),e}};return s.jsx(n.Provider,{value:{user:t,session:a,role:d,loading:u,isAuthenticated:x,isHydrated:p,signup:b,login:y,logout:f},children:e})}let l=()=>{let e=(0,o.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},9801:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,SidebarProvider:()=>n});var s=r(10326),o=r(17577);let i=(0,o.createContext)(void 0);function n({children:e}){let[t,r]=(0,o.useState)(!0);return s.jsx(i.Provider,{value:{isOpen:t,setIsOpen:r},children:e})}function a(){let e=(0,o.useContext)(i);if(!e)throw Error("useSidebar must be used within SidebarProvider");return e}},35442:(e,t,r)=>{"use strict";r.d(t,{OQ:()=>a});var s=r(27581);let o=process.env.NEXT_PUBLIC_SUPABASE_URL,i=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,n=process.env.SUPABASE_SERVICE_ROLE_KEY,a=null;o&&i&&(a=(0,s.eI)(o,i),(0,s.eI)(o,n||i))},71060:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>d,viewport:()=>c});var s=r(19510);r(53978);var o=r(68570);let i=(0,o.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\context\AuthContext.js#AuthProvider`);(0,o.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\context\AuthContext.js#useAuth`);let n=(0,o.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\context\SidebarContext.tsx#SidebarProvider`);(0,o.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\context\SidebarContext.tsx#useSidebar`);let a=(0,o.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\components\SecurityWrapper.js#default`),l=(0,o.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\components\AnalyticsTracker.tsx#default`),d={title:"InterviewVerse - AI-Powered Interview Platform",description:"Master your interview skills with AI-powered mock interviews and real-time feedback."},c={width:"device-width",initialScale:1,maximumScale:5};function u({children:e}){return(0,s.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,s.jsxs)("head",{children:[s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, viewport-fit=cover"}),s.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),s.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"})]}),s.jsx("body",{className:"bg-neutral-50 dark:bg-neutral-900",children:s.jsx(a,{children:s.jsx(i,{children:(0,s.jsxs)(n,{children:[s.jsx(l,{}),s.jsx("div",{className:"min-h-screen w-full",children:e})]})})})})]})}},53978:()=>{},8007:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(87926).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},65014:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(87926).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},76125:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(87926).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},56636:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(87926).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},56929:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(87926).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},79361:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(87926).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},80380:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(87926).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}};