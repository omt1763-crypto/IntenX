"use strict";exports.id=8983,exports.ids=[8983],exports.modules={58983:(a,e,i)=>{i.d(e,{V3:()=>validateEmailForSignup});var o=i(20568),l=i(66709),t=i(9523),m=i(73837);let r=(0,m.promisify)(t.resolveMx);async function validateEmailAddress(a){try{if(!(0,o.G)(a))return{valid:!1,reason:"Invalid email format"};let e=a.split("@")[1];if(!e)return{valid:!1,reason:"Email domain is invalid"};let i=await r(e).catch(a=>(console.error(`[Email Validation] MX lookup failed for ${e}:`,a.message),null));if(!i||0===i.length)return{valid:!1,reason:`Domain '${e}' does not accept emails (no MX records found)`};let l=await verifySmtpMailbox(a,i[0]);return l||console.log(`[Email Validation] SMTP verification failed for ${a}, but allowing due to valid MX records`),{valid:!0,reason:"Email address is valid"}}catch(a){return console.error("[Email Validation] Unexpected error during validation:",a),{valid:!0,reason:"Email validation passed (with warnings)",warning:a.message}}}async function verifySmtpMailbox(a,e){return new Promise(a=>{let i=setTimeout(()=>{a(!0)},5e3);try{let o=(0,l.createTransport)({host:e.exchange,port:25,secure:!1,tls:{rejectUnauthorized:!1},connectionTimeout:3e3,socketTimeout:3e3});o.verify((l,t)=>{clearTimeout(i),l?(console.log(`[Email Validation] SMTP verification failed for ${e.exchange}:`,l.message),a(!1)):a(!0),o.close()})}catch(e){clearTimeout(i),console.error("[Email Validation] SMTP connection error:",e.message),a(!1)}})}let n=new Set(["tempmail.com","tempmail.net","tempmail.org","temp-mail.io","temp-mail.org","temporary-mail.net","throwaway.email","throwaway.email.com","trashmail.com","maildrop.cc","mailnesia.com","spam4.me","dispostable.com","fakeinbox.com","mailinator.com","guerrillamail.com","guerrillamail.net","guerrillamail.info","guerrillamail.org","10minutemail.com","10minutemail.net","yopmail.com","yopmail.net","mintemail.com","tempail.com","spamgourmet.com","sharklasers.com","pokemail.net","grr.la","getnada.com","getresponse.com","inboxkitten.com","temp-mail.tk","throwawaymail.com","sharklasers.com","spam.la","0-mail.com","0box.eu","10minutemail.info","10minutemail.fr","10minutemail.de","1secmail.com","a-bc.net","acompanhado.top","acompanhados.com","achatasafe.com","abcdefghijklmnop.com","abcinbox.com","abcinbox.eu","fakegmail.com","fake-email.com","fakemail.com","fake-email.net","testnator.com","testmail.de","temp123.com"]);function isDisposableEmail(a){let e=a.split("@")[1]?.toLowerCase();return!!(!e||n.has(e)||e.includes("tempmail")||e.includes("temp-mail")||e.includes("temporary")||e.includes("throwaway")||e.includes("spam")||e.includes("fake")||e.includes("test")||e.includes("trash")||e.includes("10minute"))}async function validateEmailForSignup(a){if(isDisposableEmail(a))return{valid:!1,reason:"Disposable/temporary email addresses are not allowed. Please use a real email address."};let e=await validateEmailAddress(a);return e}},20568:(a,e)=>{var i=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;e.G=function(a){if(!a||a.length>254||!i.test(a))return!1;var e=a.split("@");return!(e[0].length>64||e[1].split(".").some(function(a){return a.length>63}))}}};