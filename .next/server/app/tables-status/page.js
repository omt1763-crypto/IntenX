(()=>{var e={};e.id=7672,e.ids=[7672],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},95183:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>b,tree:()=>c});var a=t(67096),i=t(16132),l=t(37284),r=t.n(l),n=t(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["tables-status",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5314)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\tables-status\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,21606)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\tables-status\\page.tsx"],p="/tables-status/page",u={require:t,loadChunk:()=>Promise.resolve()},b=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/tables-status/page",pathname:"/tables-status",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},93465:(e,s,t)=>{Promise.resolve().then(t.bind(t,49696))},49696:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>TablesStatus});var a=t(30784),i=t(9885),l=t(59708),r=t(81547),n=t(3285),o=t(43335);function TablesStatus(){let[e,s]=(0,i.useState)({}),[t,c]=(0,i.useState)(!0),[d,p]=(0,i.useState)(!1);(0,i.useEffect)(()=>{checkTables()},[]);let checkTables=async()=>{try{let{data:e,error:t}=await l.OQ.from("job_applicants").select("count(*)",{count:"exact",head:!0});s({job_applicants:!t||!t.message.includes("not found"),error:t?.message})}catch(e){console.error("Error checking tables:",e)}finally{c(!1)}};return a.jsx("main",{className:"min-h-screen bg-gradient-to-br from-[#f0fdf4] via-white to-[#ecfdf5] p-8",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-[#007a78] mb-8",children:"Database Tables Status"}),a.jsx("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"bg-white border border-[#11cd68]/20 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"job_applicants Table"}),t?a.jsx("div",{className:"animate-spin",children:"⚙️"}):e.job_applicants?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(r.Z,{size:24}),a.jsx("span",{className:"font-semibold",children:"Exists"})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(n.Z,{size:24}),a.jsx("span",{className:"font-semibold",children:"Missing"})]})]}),!e.job_applicants&&!t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-slate-600 text-sm",children:["The ",a.jsx("code",{className:"bg-slate-100 px-2 py-1 rounded",children:"job_applicants"})," table needs to be created to store candidate applications."]}),(0,a.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Steps to create:"}),(0,a.jsxs)("ol",{className:"text-sm text-slate-600 space-y-2 list-decimal list-inside",children:[(0,a.jsxs)("li",{children:["Go to ",a.jsx("a",{href:"https://app.supabase.com",target:"_blank",className:"text-blue-600 hover:underline",children:"Supabase Dashboard"})]}),a.jsx("li",{children:"Select your project"}),a.jsx("li",{children:'Click "SQL Editor" on the left sidebar'}),a.jsx("li",{children:'Click "New Query"'}),a.jsx("li",{children:"Click the button below to copy the SQL"}),a.jsx("li",{children:"Paste it in the SQL editor"}),a.jsx("li",{children:'Click "Run"'})]})]}),(0,a.jsxs)("button",{onClick:()=>{let e=`CREATE TABLE IF NOT EXISTS public.job_applicants (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  job_id UUID NOT NULL REFERENCES public.jobs(id) ON DELETE CASCADE,
  name VARCHAR(255) NOT NULL,
  email VARCHAR(255) NOT NULL,
  position_applied VARCHAR(255),
  status VARCHAR(50) DEFAULT 'invited',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX IF NOT EXISTS idx_job_applicants_job_id ON public.job_applicants(job_id);
CREATE INDEX IF NOT EXISTS idx_job_applicants_email ON public.job_applicants(email);
CREATE INDEX IF NOT EXISTS idx_job_applicants_status ON public.job_applicants(status);

ALTER TABLE public.job_applicants ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Allow insert applicants" ON public.job_applicants
  FOR INSERT
  WITH CHECK (true);

CREATE POLICY "Recruiters can view applicants" ON public.job_applicants
  FOR SELECT
  USING (job_id IN (SELECT id FROM public.jobs WHERE recruiter_id = auth.uid()));

CREATE POLICY "Update applicant status" ON public.job_applicants
  FOR UPDATE
  USING (true)
  WITH CHECK (true);`;navigator.clipboard.writeText(e),p(!0),setTimeout(()=>p(!1),2e3)},className:"w-full bg-gradient-to-r from-[#007a78] to-[#11cd68] text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[a.jsx(o.Z,{size:20}),d?"Copied to clipboard!":"Copy SQL to clipboard"]})]}),e.job_applicants&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-4",children:a.jsx("p",{className:"text-green-700 font-semibold",children:"✅ Table is ready! Applicants can now be saved."})})]})}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"ℹ️ How applicants work:"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-800 space-y-2",children:[a.jsx("li",{children:"✓ Candidate visits job link → pre-onboarding page collects their details"}),(0,a.jsxs)("li",{children:["✓ Details are saved to ",a.jsx("code",{className:"bg-white px-1 rounded",children:"job_applicants"})," table"]}),a.jsx("li",{children:"✓ Recruiter can see all applicants in dashboard"}),a.jsx("li",{children:"✓ Interview status updates when candidate completes interview"})]})]})]})})}},5314:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>l,default:()=>o});var a=t(95153);let i=(0,a.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\app\tables-status\page.tsx`),{__esModule:l,$$typeof:r}=i,n=i.default,o=n}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[6977,8025,5862,2012],()=>__webpack_exec__(95183));module.exports=t})();