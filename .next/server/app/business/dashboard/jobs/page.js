(()=>{var e={};e.id=4260,e.ids=[4260],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},61670:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=t(67096),n=t(16132),i=t(37284),r=t.n(i),o=t(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["business",{children:["dashboard",{children:["jobs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3702)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\business\\dashboard\\jobs\\page.js"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,21606)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\business\\dashboard\\jobs\\page.js"],p="/business/dashboard/jobs/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/business/dashboard/jobs/page",pathname:"/business/dashboard/jobs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},18673:(e,s,t)=>{Promise.resolve().then(t.bind(t,3279))},3279:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>BusinessJobsPage});var a=t(30784),n=t(9885),i=t(57114),r=t(89139),o=t(8965),l=t(26753),d=t(88574),c=t(15276),p=t(53306),x=t(27912),u=t(98607);function BusinessJobsPage(){let e=(0,i.useRouter)(),{user:s,isAuthenticated:t,loading:b}=(0,p.useAuth)(),{isOpen:m}=(0,x.useSidebar)(),[h,g]=(0,n.useState)([]),[f,j]=(0,n.useState)(!0),[v,w]=(0,n.useState)(!1),N=s?.id,y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},handleViewApplicants=(s,t)=>{e.push(`/business/dashboard/jobs/applicants?jobId=${s}&jobTitle=${encodeURIComponent(t)}`)};(0,n.useEffect)(()=>{b||N||t||s||e.replace("/auth/login")},[b,N,t,s,e]),(0,n.useEffect)(()=>{w(!0)},[]),(0,n.useEffect)(()=>{N&&v&&!b&&loadJobs()},[N,v,b]);let loadJobs=async()=>{try{if(!N)return;console.log("[BusinessJobs] Loading jobs for userId:",N);let e=await fetch(`/api/recruiter/jobs-summary?recruiterId=${N}`),s=await e.json();console.log("[BusinessJobs] Jobs API response:",s),s&&s.success&&s.jobs?(console.log("[BusinessJobs] Found",s.jobs.length,"jobs"),g(s.jobs)):(console.warn("[BusinessJobs] No jobs found in response"),g([]))}catch(e){console.error("[BusinessJobs] Error loading jobs:",e),g([])}finally{j(!1)}};return!v||f?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f0fdf4] via-white to-[#ecfdf5]",children:[a.jsx(u.Z,{role:"company"}),a.jsx("div",{className:`ml-20 lg:${m?"ml-64":"ml-20"} transition-all duration-300 flex items-center justify-center min-h-screen`,children:a.jsx("p",{className:"text-slate-600",children:"Loading jobs..."})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#f0fdf4] via-white to-[#ecfdf5]",children:[a.jsx(u.Z,{role:"company"}),(0,a.jsxs)("div",{className:"fixed inset-0 pointer-events-none opacity-30",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-gradient-to-b from-[#11cd68]/20 to-transparent rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-gradient-to-t from-[#007a78]/15 to-transparent rounded-full blur-3xl"})]}),(0,a.jsxs)("div",{className:`transition-all duration-300 ${m?"ml-64":"ml-20"}`,children:[a.jsx(r.E.div,{className:"sticky top-0 z-40 border-b border-[#11cd68]/20 bg-[#007a78]/95 backdrop-blur-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:a.jsx("div",{className:"px-8 py-5",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Job Postings"}),a.jsx("p",{className:"text-sm text-[#d1f2eb] mt-1",children:"Manage your job listings and applications"})]}),(0,a.jsxs)("button",{onClick:()=>e.push("/business/dashboard/jobs/new"),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-[#007a78] to-[#00a89a] text-white hover:shadow-lg hover:shadow-teal-400/30 transition-all font-semibold",children:[a.jsx(o.Z,{className:"w-4 h-4"}),"New Job"]})]})})}),a.jsx("div",{className:"px-8 py-12 relative z-10",children:a.jsx(r.E.div,{className:"space-y-6",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},initial:"hidden",animate:"visible",children:h.length>0?h.map(e=>a.jsx(r.E.div,{className:"rounded-xl border border-[#007a78]/20 p-6 bg-gradient-to-br from-white to-[#f0fdf4] shadow-sm hover:shadow-md transition-all",variants:y,children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[a.jsx("div",{className:"p-3 bg-[#11cd68]/10 rounded-lg",children:a.jsx(l.Z,{className:"w-6 h-6 text-[#11cd68]"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-semibold text-[#007a78] mb-1",children:e.title}),a.jsx("p",{className:"text-sm text-slate-600 mb-3",children:e.description||"No description"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-600",children:[e.location&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(d.Z,{className:"w-4 h-4 text-[#11cd68]"}),e.location]}),void 0!==e.applicant_count&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(c.Z,{className:"w-4 h-4 text-[#11cd68]"}),e.applicant_count," applicants"]})]})]})]}),(0,a.jsxs)("div",{className:"text-right ml-4 flex flex-col gap-3",children:[a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${"open"===e.status?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:e.status||"Open"}),e.created_at&&(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Posted ",new Date(e.created_at).toLocaleDateString()]}),(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),handleViewApplicants(e.id,e.title)},className:"px-4 py-2 bg-[#11cd68] text-white rounded-lg hover:bg-[#00a89a] transition-colors font-semibold text-sm whitespace-nowrap",children:["View Applicants (",e.applicant_count??0,")"]})]})]})},e.id)):(0,a.jsxs)(r.E.div,{className:"rounded-xl border border-[#11cd68]/20 p-12 bg-gradient-to-br from-white to-[#f0fdf4] text-center",variants:y,children:[a.jsx(l.Z,{className:"w-12 h-12 text-[#11cd68]/30 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 mb-6 text-lg",children:"No jobs posted yet"}),a.jsx("button",{onClick:()=>e.push("/business/dashboard/jobs/new"),className:"px-6 py-2 bg-gradient-to-r from-[#007a78] to-[#00a89a] text-white rounded-lg hover:shadow-lg hover:shadow-teal-400/30 transition-all font-semibold",children:"Create Your First Job"})]})})})]})]})}},3702:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>i,default:()=>l});var a=t(95153);let n=(0,a.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\app\business\dashboard\jobs\page.js`),{__esModule:i,$$typeof:r}=n,o=n.default,l=o}};var s=require("../../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[6977,8025,2322,5007,8517,9139,7922,2012,8607],()=>__webpack_exec__(61670));module.exports=t})();