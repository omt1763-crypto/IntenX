"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/recruiter/jobs-summary/route";
exports.ids = ["app/api/recruiter/jobs-summary/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecruiter%2Fjobs-summary%2Froute&page=%2Fapi%2Frecruiter%2Fjobs-summary%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecruiter%2Fjobs-summary%2Froute.js&appDir=C%3A%5CUsers%5Comt91%5CDownloads%5Cmain%5Cinterviewverse_frontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Comt91%5CDownloads%5Cmain%5Cinterviewverse_frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecruiter%2Fjobs-summary%2Froute&page=%2Fapi%2Frecruiter%2Fjobs-summary%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecruiter%2Fjobs-summary%2Froute.js&appDir=C%3A%5CUsers%5Comt91%5CDownloads%5Cmain%5Cinterviewverse_frontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Comt91%5CDownloads%5Cmain%5Cinterviewverse_frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var C_Users_omt91_Downloads_main_interviewverse_frontend_app_api_recruiter_jobs_summary_route_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/api/recruiter/jobs-summary/route.js */ \"(rsc)/./app/api/recruiter/jobs-summary/route.js\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/recruiter/jobs-summary/route\",\n        pathname: \"/api/recruiter/jobs-summary\",\n        filename: \"route\",\n        bundlePath: \"app/api/recruiter/jobs-summary/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\omt91\\\\Downloads\\\\main\\\\interviewverse_frontend\\\\app\\\\api\\\\recruiter\\\\jobs-summary\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_omt91_Downloads_main_interviewverse_frontend_app_api_recruiter_jobs_summary_route_js__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/recruiter/jobs-summary/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZWNydWl0ZXIlMkZqb2JzLXN1bW1hcnklMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnJlY3J1aXRlciUyRmpvYnMtc3VtbWFyeSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnJlY3J1aXRlciUyRmpvYnMtc3VtbWFyeSUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNvbXQ5MSU1Q0Rvd25sb2FkcyU1Q21haW4lNUNpbnRlcnZpZXd2ZXJzZV9mcm9udGVuZCU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDb210OTElNUNEb3dubG9hZHMlNUNtYWluJTVDaW50ZXJ2aWV3dmVyc2VfZnJvbnRlbmQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ3FFO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ2lKOztBQUVqSiIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlld3ZlcnNlLWZyb250ZW5kLz80MjUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXG9tdDkxXFxcXERvd25sb2Fkc1xcXFxtYWluXFxcXGludGVydmlld3ZlcnNlX2Zyb250ZW5kXFxcXGFwcFxcXFxhcGlcXFxccmVjcnVpdGVyXFxcXGpvYnMtc3VtbWFyeVxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcmVjcnVpdGVyL2pvYnMtc3VtbWFyeS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3JlY3J1aXRlci9qb2JzLXN1bW1hcnlcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3JlY3J1aXRlci9qb2JzLXN1bW1hcnkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxvbXQ5MVxcXFxEb3dubG9hZHNcXFxcbWFpblxcXFxpbnRlcnZpZXd2ZXJzZV9mcm9udGVuZFxcXFxhcHBcXFxcYXBpXFxcXHJlY3J1aXRlclxcXFxqb2JzLXN1bW1hcnlcXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcmVjcnVpdGVyL2pvYnMtc3VtbWFyeS9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecruiter%2Fjobs-summary%2Froute&page=%2Fapi%2Frecruiter%2Fjobs-summary%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecruiter%2Fjobs-summary%2Froute.js&appDir=C%3A%5CUsers%5Comt91%5CDownloads%5Cmain%5Cinterviewverse_frontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Comt91%5CDownloads%5Cmain%5Cinterviewverse_frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/recruiter/jobs-summary/route.js":
/*!*************************************************!*\
  !*** ./app/api/recruiter/jobs-summary/route.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   revalidate: () => (/* binding */ revalidate)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n\nconst dynamic = \"force-dynamic\";\nconst revalidate = 0;\nasync function GET(req) {\n    try {\n        const { searchParams } = new URL(req.url);\n        const recruiterId = searchParams.get(\"recruiterId\");\n        if (!recruiterId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing recruiterId\",\n                success: false\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"[JobsSummary API] Fetching summary for recruiter:\", recruiterId);\n        // Get jobs\n        const { data: jobsData, error: jobsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"jobs\").select(\"*\").eq(\"recruiter_id\", recruiterId).order(\"created_at\", {\n            ascending: false\n        }).limit(200);\n        if (jobsError) {\n            console.error(\"[JobsSummary API] Jobs error:\", jobsError);\n        }\n        const jobIds = (jobsData || []).map((j)=>j.id).filter(Boolean);\n        // Get applicants: ONLY for this recruiter's jobs\n        let applicants = [];\n        if (jobIds.length > 0) {\n            const { data: appsData, error: appsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"job_applicants\").select(\"*\").in(\"job_id\", jobIds).order(\"created_at\", {\n                ascending: false\n            });\n            if (appsError) console.error(\"[JobsSummary API] Applicants error:\", appsError);\n            applicants = appsData || [];\n        }\n        // If no jobs, return empty applicants list (don't fetch all system applicants)\n        // Get interviews: ONLY for this recruiter's jobs (don't include legacy interviews without job_id)\n        let interviews = [];\n        if (jobIds.length > 0) {\n            const { data: ivs, error: ivErr } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"interviews\").select(\"*\").in(\"job_id\", jobIds).order(\"created_at\", {\n                ascending: false\n            });\n            if (ivErr) console.error(\"[JobsSummary API] Interviews error:\", ivErr);\n            interviews = ivs || [];\n        }\n        // Note: We do NOT fetch legacy interviews (without job_id) - they don't belong to this recruiter\n        // If no interviews found via job_id OR no jobs, try to fetch via applicant_id\n        if ((interviews.length === 0 || jobIds.length === 0) && applicants.length > 0) {\n            const applicantIds = applicants.map((a)=>a.id).filter(Boolean);\n            if (applicantIds.length > 0) {\n                console.log(\"[JobsSummary API] Fetching interviews via applicant_id for\", applicantIds.length, \"applicants\");\n                const { data: ivs, error: ivErr } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"interviews\").select(\"*\").in(\"applicant_id\", applicantIds).order(\"created_at\", {\n                    ascending: false\n                });\n                if (ivErr) {\n                    console.warn(\"[JobsSummary API] Interviews via applicant_id error:\", ivErr);\n                // If that fails too, just skip interviews - they're not critical for the summary\n                }\n                interviews = [\n                    ...interviews || [],\n                    ...ivs || []\n                ];\n            }\n        }\n        // Build counts\n        const applicantCountByJob = {};\n        applicants.forEach((a)=>{\n            if (!a || !a.job_id) return;\n            applicantCountByJob[a.job_id] = (applicantCountByJob[a.job_id] || 0) + 1;\n        });\n        const interviewCountByJob = {};\n        interviews.forEach((i)=>{\n            if (!i || !i.job_id) return;\n            interviewCountByJob[i.job_id] = (interviewCountByJob[i.job_id] || 0) + 1;\n        });\n        const jobs = (jobsData || []).map((j)=>({\n                ...j,\n                applicant_count: applicantCountByJob[j.id] || 0,\n                interview_count: interviewCountByJob[j.id] || 0\n            }));\n        // Count applicant statuses (shortlisted, rejected, pending, accepted)\n        const applicationStats = {\n            pending: 0,\n            shortlisted: 0,\n            rejected: 0,\n            accepted: 0\n        };\n        applicants.forEach((a)=>{\n            const s = a && a.status || \"pending\";\n            if (applicationStats.hasOwnProperty(s)) {\n                applicationStats[s]++;\n            } else {\n                applicationStats.pending++;\n            }\n        });\n        // Compute jobs created this month and percent of total\n        const now = new Date();\n        const startOfThisMonth = new Date(now.getFullYear(), now.getMonth(), 1);\n        const startOfNextMonth = new Date(now.getFullYear(), now.getMonth() + 1, 1);\n        const jobsThisMonth = (jobsData || []).filter((j)=>{\n            try {\n                const d = new Date(j.created_at);\n                return d >= startOfThisMonth && d < startOfNextMonth;\n            } catch (e) {\n                return false;\n            }\n        }).length;\n        const totalJobs = (jobsData || []).length;\n        const jobPercentOfTotal = totalJobs > 0 ? Math.round(jobsThisMonth / totalJobs * 100) : 0;\n        const resp = {\n            success: true,\n            jobs,\n            totalJobs,\n            totalApplicants: applicants.length,\n            totalInterviews: interviews.length,\n            applicationStats,\n            totalShortlisted: applicationStats.shortlisted || 0,\n            jobsThisMonth,\n            jobPercentOfTotal\n        };\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(resp);\n    } catch (error) {\n        console.error(\"[JobsSummary API] Error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3JlY3J1aXRlci9qb2JzLXN1bW1hcnkvcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEM7QUFDSTtBQUV2QyxNQUFNRSxVQUFVLGdCQUFlO0FBQy9CLE1BQU1DLGFBQWEsRUFBQztBQUVwQixlQUFlQyxJQUFJQyxHQUFHO0lBQzNCLElBQUk7UUFDRixNQUFNLEVBQUVDLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUlGLElBQUlHLEdBQUc7UUFDeEMsTUFBTUMsY0FBY0gsYUFBYUksR0FBRyxDQUFDO1FBRXJDLElBQUksQ0FBQ0QsYUFBYTtZQUNoQixPQUFPVCxrRkFBWUEsQ0FBQ1csSUFBSSxDQUFDO2dCQUFFQyxPQUFPO2dCQUF1QkMsU0FBUztZQUFNLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUMzRjtRQUVBQyxRQUFRQyxHQUFHLENBQUMscURBQXFEUDtRQUVqRSxXQUFXO1FBQ1gsTUFBTSxFQUFFUSxNQUFNQyxRQUFRLEVBQUVOLE9BQU9PLFNBQVMsRUFBRSxHQUFHLE1BQU1sQix3REFBYUEsQ0FDN0RtQixJQUFJLENBQUMsUUFDTEMsTUFBTSxDQUFDLEtBQ1BDLEVBQUUsQ0FBQyxnQkFBZ0JiLGFBQ25CYyxLQUFLLENBQUMsY0FBYztZQUFFQyxXQUFXO1FBQU0sR0FDdkNDLEtBQUssQ0FBQztRQUVULElBQUlOLFdBQVc7WUFDYkosUUFBUUgsS0FBSyxDQUFDLGlDQUFpQ087UUFDakQ7UUFBSyxNQUFNTyxTQUFTLENBQUNSLFlBQVksRUFBRSxFQUFFUyxHQUFHLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLEVBQUUsRUFBRUMsTUFBTSxDQUFDQztRQUUzRCxpREFBaUQ7UUFDakQsSUFBSUMsYUFBYSxFQUFFO1FBQ25CLElBQUlOLE9BQU9PLE1BQU0sR0FBRyxHQUFHO1lBQ3JCLE1BQU0sRUFBRWhCLE1BQU1pQixRQUFRLEVBQUV0QixPQUFPdUIsU0FBUyxFQUFFLEdBQUcsTUFBTWxDLHdEQUFhQSxDQUM3RG1CLElBQUks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QUFJO0lBQ25GO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXd2ZXJzZS1mcm9udGVuZC8uL2FwcC9hcGkvcmVjcnVpdGVyL2pvYnMtc3VtbWFyeS9yb3V0ZS5qcz9kMmE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBzdXBhYmFzZUFkbWluIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnXHJcblxyXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJ1xyXG5leHBvcnQgY29uc3QgcmV2YWxpZGF0ZSA9IDBcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcS51cmwpXHJcbiAgICBjb25zdCByZWNydWl0ZXJJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3JlY3J1aXRlcklkJylcclxuXHJcbiAgICBpZiAoIXJlY3J1aXRlcklkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWlzc2luZyByZWNydWl0ZXJJZCcsIHN1Y2Nlc3M6IGZhbHNlIH0sIHsgc3RhdHVzOiA0MDAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnW0pvYnNTdW1tYXJ5IEFQSV0gRmV0Y2hpbmcgc3VtbWFyeSBmb3IgcmVjcnVpdGVyOicsIHJlY3J1aXRlcklkKVxyXG5cclxuICAgIC8vIEdldCBqb2JzXHJcbiAgICBjb25zdCB7IGRhdGE6IGpvYnNEYXRhLCBlcnJvcjogam9ic0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdqb2JzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgncmVjcnVpdGVyX2lkJywgcmVjcnVpdGVySWQpXHJcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICAubGltaXQoMjAwKVxyXG5cclxuICAgIGlmIChqb2JzRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0pvYnNTdW1tYXJ5IEFQSV0gSm9icyBlcnJvcjonLCBqb2JzRXJyb3IpXHJcbiAgICB9ICAgIGNvbnN0IGpvYklkcyA9IChqb2JzRGF0YSB8fCBbXSkubWFwKGogPT4gai5pZCkuZmlsdGVyKEJvb2xlYW4pXHJcblxyXG4gICAgLy8gR2V0IGFwcGxpY2FudHM6IE9OTFkgZm9yIHRoaXMgcmVjcnVpdGVyJ3Mgam9ic1xyXG4gICAgbGV0IGFwcGxpY2FudHMgPSBbXVxyXG4gICAgaWYgKGpvYklkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogYXBwc0RhdGEsIGVycm9yOiBhcHBzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgICAuZnJvbSgnam9iX2FwcGxpY2FudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5pbignam9iX2lkJywgam9iSWRzKVxyXG4gICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG5cclxuICAgICAgaWYgKGFwcHNFcnJvcikgY29uc29sZS5lcnJvcignW0pvYnNTdW1tYXJ5IEFQSV0gQXBwbGljYW50cyBlcnJvcjonLCBhcHBzRXJyb3IpXHJcbiAgICAgIGFwcGxpY2FudHMgPSBhcHBzRGF0YSB8fCBbXVxyXG4gICAgfVxyXG4gICAgLy8gSWYgbm8gam9icywgcmV0dXJuIGVtcHR5IGFwcGxpY2FudHMgbGlzdCAoZG9uJ3QgZmV0Y2ggYWxsIHN5c3RlbSBhcHBsaWNhbnRzKVxyXG5cclxuICAgIC8vIEdldCBpbnRlcnZpZXdzOiBPTkxZIGZvciB0aGlzIHJlY3J1aXRlcidzIGpvYnMgKGRvbid0IGluY2x1ZGUgbGVnYWN5IGludGVydmlld3Mgd2l0aG91dCBqb2JfaWQpXHJcbiAgICBsZXQgaW50ZXJ2aWV3cyA9IFtdXHJcbiAgICBcclxuICAgIGlmIChqb2JJZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCB7IGRhdGE6IGl2cywgZXJyb3I6IGl2RXJyIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgICAgLmZyb20oJ2ludGVydmlld3MnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5pbignam9iX2lkJywgam9iSWRzKVxyXG4gICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG5cclxuICAgICAgaWYgKGl2RXJyKSBjb25zb2xlLmVycm9yKCdbSm9ic1N1bW1hcnkgQVBJXSBJbnRlcnZpZXdzIGVycm9yOicsIGl2RXJyKVxyXG4gICAgICBpbnRlcnZpZXdzID0gaXZzIHx8IFtdXHJcbiAgICB9XHJcbiAgICAvLyBOb3RlOiBXZSBkbyBOT1QgZmV0Y2ggbGVnYWN5IGludGVydmlld3MgKHdpdGhvdXQgam9iX2lkKSAtIHRoZXkgZG9uJ3QgYmVsb25nIHRvIHRoaXMgcmVjcnVpdGVyXHJcbiAgICBcclxuICAgIC8vIElmIG5vIGludGVydmlld3MgZm91bmQgdmlhIGpvYl9pZCBPUiBubyBqb2JzLCB0cnkgdG8gZmV0Y2ggdmlhIGFwcGxpY2FudF9pZFxyXG4gICAgaWYgKChpbnRlcnZpZXdzLmxlbmd0aCA9PT0gMCB8fCBqb2JJZHMubGVuZ3RoID09PSAwKSAmJiBhcHBsaWNhbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgYXBwbGljYW50SWRzID0gYXBwbGljYW50cy5tYXAoYSA9PiBhLmlkKS5maWx0ZXIoQm9vbGVhbilcclxuICAgICAgaWYgKGFwcGxpY2FudElkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tKb2JzU3VtbWFyeSBBUEldIEZldGNoaW5nIGludGVydmlld3MgdmlhIGFwcGxpY2FudF9pZCBmb3InLCBhcHBsaWNhbnRJZHMubGVuZ3RoLCAnYXBwbGljYW50cycpXHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiBpdnMsIGVycm9yOiBpdkVyciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAgICAgLmZyb20oJ2ludGVydmlld3MnKVxyXG4gICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAuaW4oJ2FwcGxpY2FudF9pZCcsIGFwcGxpY2FudElkcylcclxuICAgICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG5cclxuICAgICAgICBpZiAoaXZFcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignW0pvYnNTdW1tYXJ5IEFQSV0gSW50ZXJ2aWV3cyB2aWEgYXBwbGljYW50X2lkIGVycm9yOicsIGl2RXJyKVxyXG4gICAgICAgICAgLy8gSWYgdGhhdCBmYWlscyB0b28sIGp1c3Qgc2tpcCBpbnRlcnZpZXdzIC0gdGhleSdyZSBub3QgY3JpdGljYWwgZm9yIHRoZSBzdW1tYXJ5XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludGVydmlld3MgPSBbLi4uKGludGVydmlld3MgfHwgW10pLCAuLi4oaXZzIHx8IFtdKV1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEJ1aWxkIGNvdW50c1xyXG4gICAgY29uc3QgYXBwbGljYW50Q291bnRCeUpvYiA9IHt9XHJcbiAgICBhcHBsaWNhbnRzLmZvckVhY2goYSA9PiB7XHJcbiAgICAgIGlmICghYSB8fCAhYS5qb2JfaWQpIHJldHVyblxyXG4gICAgICBhcHBsaWNhbnRDb3VudEJ5Sm9iW2Euam9iX2lkXSA9IChhcHBsaWNhbnRDb3VudEJ5Sm9iW2Euam9iX2lkXSB8fCAwKSArIDFcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgaW50ZXJ2aWV3Q291bnRCeUpvYiA9IHt9XHJcbiAgICBpbnRlcnZpZXdzLmZvckVhY2goaSA9PiB7XHJcbiAgICAgIGlmICghaSB8fCAhaS5qb2JfaWQpIHJldHVyblxyXG4gICAgICBpbnRlcnZpZXdDb3VudEJ5Sm9iW2kuam9iX2lkXSA9IChpbnRlcnZpZXdDb3VudEJ5Sm9iW2kuam9iX2lkXSB8fCAwKSArIDFcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3Qgam9icyA9IChqb2JzRGF0YSB8fCBbXSkubWFwKGogPT4gKHtcclxuICAgICAgLi4uaixcclxuICAgICAgYXBwbGljYW50X2NvdW50OiBhcHBsaWNhbnRDb3VudEJ5Sm9iW2ouaWRdIHx8IDAsXHJcbiAgICAgIGludGVydmlld19jb3VudDogaW50ZXJ2aWV3Q291bnRCeUpvYltqLmlkXSB8fCAwXHJcbiAgICB9KSlcclxuXHJcbiAgICAvLyBDb3VudCBhcHBsaWNhbnQgc3RhdHVzZXMgKHNob3J0bGlzdGVkLCByZWplY3RlZCwgcGVuZGluZywgYWNjZXB0ZWQpXHJcbiAgICBjb25zdCBhcHBsaWNhdGlvblN0YXRzID0geyBwZW5kaW5nOiAwLCBzaG9ydGxpc3RlZDogMCwgcmVqZWN0ZWQ6IDAsIGFjY2VwdGVkOiAwIH1cclxuICAgIGFwcGxpY2FudHMuZm9yRWFjaChhID0+IHtcclxuICAgICAgY29uc3QgcyA9IChhICYmIGEuc3RhdHVzKSB8fCAncGVuZGluZydcclxuICAgICAgaWYgKGFwcGxpY2F0aW9uU3RhdHMuaGFzT3duUHJvcGVydHkocykpIHtcclxuICAgICAgICBhcHBsaWNhdGlvblN0YXRzW3NdKytcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHBsaWNhdGlvblN0YXRzLnBlbmRpbmcrK1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIENvbXB1dGUgam9icyBjcmVhdGVkIHRoaXMgbW9udGggYW5kIHBlcmNlbnQgb2YgdG90YWxcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcclxuICAgIGNvbnN0IHN0YXJ0T2ZUaGlzTW9udGggPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpXHJcbiAgICBjb25zdCBzdGFydE9mTmV4dE1vbnRoID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpICsgMSwgMSlcclxuICAgIGNvbnN0IGpvYnNUaGlzTW9udGggPSAoam9ic0RhdGEgfHwgW10pLmZpbHRlcihqID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkID0gbmV3IERhdGUoai5jcmVhdGVkX2F0KVxyXG4gICAgICAgIHJldHVybiBkID49IHN0YXJ0T2ZUaGlzTW9udGggJiYgZCA8IHN0YXJ0T2ZOZXh0TW9udGhcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9KS5sZW5ndGhcclxuXHJcbiAgICBjb25zdCB0b3RhbEpvYnMgPSAoam9ic0RhdGEgfHwgW10pLmxlbmd0aFxyXG4gICAgY29uc3Qgam9iUGVyY2VudE9mVG90YWwgPSB0b3RhbEpvYnMgPiAwID8gTWF0aC5yb3VuZCgoam9ic1RoaXNNb250aCAvIHRvdGFsSm9icykgKiAxMDApIDogMFxyXG5cclxuICAgIGNvbnN0IHJlc3AgPSB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGpvYnMsXHJcbiAgICAgIHRvdGFsSm9icyxcclxuICAgICAgdG90YWxBcHBsaWNhbnRzOiBhcHBsaWNhbnRzLmxlbmd0aCxcclxuICAgICAgdG90YWxJbnRlcnZpZXdzOiBpbnRlcnZpZXdzLmxlbmd0aCxcclxuICAgICAgYXBwbGljYXRpb25TdGF0cyxcclxuICAgICAgdG90YWxTaG9ydGxpc3RlZDogYXBwbGljYXRpb25TdGF0cy5zaG9ydGxpc3RlZCB8fCAwLFxyXG4gICAgICBqb2JzVGhpc01vbnRoLFxyXG4gICAgICBqb2JQZXJjZW50T2ZUb3RhbFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbSm9ic1N1bW1hcnkgQVBJXSBFcnJvcjonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzdXBhYmFzZUFkbWluIiwiZHluYW1pYyIsInJldmFsaWRhdGUiLCJHRVQiLCJyZXEiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJyZWNydWl0ZXJJZCIsImdldCIsImpzb24iLCJlcnJvciIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsImpvYnNEYXRhIiwiam9ic0Vycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwib3JkZXIiLCJhc2NlbmRpbmciLCJsaW1pdCIsImpvYklkcyIsIm1hcCIsImoiLCJpZCIsImZpbHRlciIsIkJvb2xlYW4iLCJhcHBsaWNhbnRzIiwibGVuZ3RoIiwiYXBwc0RhdGEiLCJhcHBzRXJyb3IiLCJpbiIsImludGVydmlld3MiLCJpdnMiLCJpdkVyciIsImFwcGxpY2FudElkcyIsImEiLCJ3YXJuIiwiYXBwbGljYW50Q291bnRCeUpvYiIsImZvckVhY2giLCJqb2JfaWQiLCJpbnRlcnZpZXdDb3VudEJ5Sm9iIiwiaSIsImpvYnMiLCJhcHBsaWNhbnRfY291bnQiLCJpbnRlcnZpZXdfY291bnQiLCJhcHBsaWNhdGlvblN0YXRzIiwicGVuZGluZyIsInNob3J0bGlzdGVkIiwicmVqZWN0ZWQiLCJhY2NlcHRlZCIsInMiLCJoYXNPd25Qcm9wZXJ0eSIsIm5vdyIsIkRhdGUiLCJzdGFydE9mVGhpc01vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsInN0YXJ0T2ZOZXh0TW9udGgiLCJqb2JzVGhpc01vbnRoIiwiZCIsImNyZWF0ZWRfYXQiLCJlIiwidG90YWxKb2JzIiwiam9iUGVyY2VudE9mVG90YWwiLCJNYXRoIiwicm91bmQiLCJyZXNwIiwidG90YWxBcHBsaWNhbnRzIiwidG90YWxJbnRlcnZpZXdzIiwidG90YWxTaG9ydGxpc3RlZCIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/recruiter/jobs-summary/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   deleteUser: () => (/* binding */ deleteUser),\n/* harmony export */   getAllUsers: () => (/* binding */ getAllUsers),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/esm/wrapper.mjs\");\n\nconst supabaseUrl = \"https://efiurfmrgyisldruqbad.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmaXVyZm1yZ3lpc2xkcnVxYmFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4NjIwMzksImV4cCI6MjA4MDQzODAzOX0.Aj-OtvfGxlNfsDKJs5NGTfT0YKKoIP7fzTFwGYybm_k\";\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\"Missing Supabase environment variables\");\n}\n// Client for frontend (limited permissions)\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Client for backend/API routes (full permissions)\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceKey || supabaseAnonKey);\n// Get user by email\nasync function getUserByEmail(email) {\n    const { data, error } = await supabaseAdmin.from(\"users\").select(\"*\").eq(\"email\", email).single();\n    if (error) {\n        if (error.code === \"PGRST116\") return null // Not found\n        ;\n        throw error;\n    }\n    return data;\n}\n// Create user\nasync function createUser(userData) {\n    const { data, error } = await supabaseAdmin.from(\"users\").insert([\n        userData\n    ]).select().single();\n    if (error) throw error;\n    return data;\n}\n// Get all users (admin only)\nasync function getAllUsers() {\n    const { data, error } = await supabaseAdmin.from(\"users\").select(\"*\");\n    if (error) throw error;\n    return data || [];\n}\n// Update user\nasync function updateUser(id, updates) {\n    const { data, error } = await supabaseAdmin.from(\"users\").update(updates).eq(\"id\", id).select().single();\n    if (error) throw error;\n    return data;\n}\n// Delete user\nasync function deleteUser(id) {\n    const { error } = await supabaseAdmin.from(\"users\").delete().eq(\"id\", id);\n    if (error) throw error;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBb0Q7QUFFcEQsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBQ2pFLE1BQU1LLHFCQUFxQkwsUUFBUUMsR0FBRyxDQUFDSyx5QkFBeUI7QUFFaEUsSUFBSSxDQUFDUCxlQUFlLENBQUNJLGlCQUFpQjtJQUNwQyxNQUFNLElBQUlJLE1BQU07QUFDbEI7QUFFQSw0Q0FBNEM7QUFDckMsTUFBTUMsV0FBV1YsbUVBQVlBLENBQUNDLGFBQWFJLGlCQUFnQjtBQUVsRSxtREFBbUQ7QUFDNUMsTUFBTU0sZ0JBQWdCWCxtRUFBWUEsQ0FBQ0MsYUFBYU0sc0JBQXNCRixpQkFBZ0I7QUFhN0Ysb0JBQW9CO0FBQ2IsZUFBZU8sZUFBZUMsS0FBYTtJQUNoRCxNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUosY0FDM0JLLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQUMsS0FDUEMsRUFBRSxDQUFDLFNBQVNMLE9BQ1pNLE1BQU07SUFFVCxJQUFJSixPQUFPO1FBQ1QsSUFBSUEsTUFBTUssSUFBSSxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVk7O1FBQ3ZELE1BQU1MO0lBQ1I7SUFFQSxPQUFPRDtBQUNUO0FBRUEsY0FBYztBQUNQLGVBQWVPLFdBQVdDLFFBTWhDO0lBQ0MsTUFBTSxFQUFFUixJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1KLGNBQzNCSyxJQUFJLENBQUMsU0FDTE8sTUFBTSxDQUFDO1FBQUNEO0tBQVMsRUFDakJMLE1BQU0sR0FDTkUsTUFBTTtJQUVULElBQUlKLE9BQU8sTUFBTUE7SUFDakIsT0FBT0Q7QUFDVDtBQUVBLDZCQUE2QjtBQUN0QixlQUFlVTtJQUNwQixNQUFNLEVBQUVWLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUosY0FBY0ssSUFBSSxDQUFDLFNBQVNDLE1BQU0sQ0FBQztJQUNqRSxJQUFJRixPQUFPLE1BQU1BO0lBQ2pCLE9BQU9ELFFBQVEsRUFBRTtBQUNuQjtBQUVBLGNBQWM7QUFDUCxlQUFlVyxXQUNwQkMsRUFBVSxFQUNWQyxPQUFzQjtJQUV0QixNQUFNLEVBQUViLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUosY0FDM0JLLElBQUksQ0FBQyxTQUNMWSxNQUFNLENBQUNELFNBQ1BULEVBQUUsQ0FBQyxNQUFNUSxJQUNUVCxNQUFNLEdBQ05FLE1BQU07SUFFVCxJQUFJSixPQUFPLE1BQU1BO0lBQ2pCLE9BQU9EO0FBQ1Q7QUFFQSxjQUFjO0FBQ1AsZUFBZWUsV0FBV0gsRUFBVTtJQUN6QyxNQUFNLEVBQUVYLEtBQUssRUFBRSxHQUFHLE1BQU1KLGNBQWNLLElBQUksQ0FBQyxTQUFTYyxNQUFNLEdBQUdaLEVBQUUsQ0FBQyxNQUFNUTtJQUN0RSxJQUFJWCxPQUFPLE1BQU1BO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3dmVyc2UtZnJvbnRlbmQvLi9saWIvc3VwYWJhc2UudHM/Yzk5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXHJcblxyXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTFxyXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWVxyXG5jb25zdCBzdXBhYmFzZVNlcnZpY2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZXHJcblxyXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzJylcclxufVxyXG5cclxuLy8gQ2xpZW50IGZvciBmcm9udGVuZCAobGltaXRlZCBwZXJtaXNzaW9ucylcclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXHJcblxyXG4vLyBDbGllbnQgZm9yIGJhY2tlbmQvQVBJIHJvdXRlcyAoZnVsbCBwZXJtaXNzaW9ucylcclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlQWRtaW4gPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlU2VydmljZUtleSB8fCBzdXBhYmFzZUFub25LZXkpXHJcblxyXG4vLyBVc2VyIHR5cGVcclxuZXhwb3J0IGludGVyZmFjZSBVc2VyIHtcclxuICBpZDogc3RyaW5nXHJcbiAgZmlyc3RfbmFtZTogc3RyaW5nXHJcbiAgbGFzdF9uYW1lOiBzdHJpbmdcclxuICBlbWFpbDogc3RyaW5nXHJcbiAgcm9sZTogJ2NhbmRpZGF0ZScgfCAncmVjcnVpdGVyJyB8ICdjb21wYW55J1xyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xyXG59XHJcblxyXG4vLyBHZXQgdXNlciBieSBlbWFpbFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5RW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8VXNlciB8IG51bGw+IHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgLnNlbGVjdCgnKicpXHJcbiAgICAuZXEoJ2VtYWlsJywgZW1haWwpXHJcbiAgICAuc2luZ2xlKClcclxuXHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JykgcmV0dXJuIG51bGwgLy8gTm90IGZvdW5kXHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRhdGFcclxufVxyXG5cclxuLy8gQ3JlYXRlIHVzZXJcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVVzZXIodXNlckRhdGE6IHtcclxuICBmaXJzdF9uYW1lOiBzdHJpbmdcclxuICBsYXN0X25hbWU6IHN0cmluZ1xyXG4gIGVtYWlsOiBzdHJpbmdcclxuICBwYXNzd29yZF9oYXNoOiBzdHJpbmdcclxuICByb2xlOiAnY2FuZGlkYXRlJyB8ICdyZWNydWl0ZXInIHwgJ2NvbXBhbnknXHJcbn0pOiBQcm9taXNlPFVzZXI+IHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgLmluc2VydChbdXNlckRhdGFdKVxyXG4gICAgLnNlbGVjdCgpXHJcbiAgICAuc2luZ2xlKClcclxuXHJcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gIHJldHVybiBkYXRhXHJcbn1cclxuXHJcbi8vIEdldCBhbGwgdXNlcnMgKGFkbWluIG9ubHkpXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxVc2VycygpOiBQcm9taXNlPFVzZXJbXT4ge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW4uZnJvbSgndXNlcnMnKS5zZWxlY3QoJyonKVxyXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICByZXR1cm4gZGF0YSB8fCBbXVxyXG59XHJcblxyXG4vLyBVcGRhdGUgdXNlclxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlcihcclxuICBpZDogc3RyaW5nLFxyXG4gIHVwZGF0ZXM6IFBhcnRpYWw8VXNlcj5cclxuKTogUHJvbWlzZTxVc2VyPiB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgLmZyb20oJ3VzZXJzJylcclxuICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgIC5lcSgnaWQnLCBpZClcclxuICAgIC5zZWxlY3QoKVxyXG4gICAgLnNpbmdsZSgpXHJcblxyXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICByZXR1cm4gZGF0YVxyXG59XHJcblxyXG4vLyBEZWxldGUgdXNlclxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVXNlcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pbi5mcm9tKCd1c2VycycpLmRlbGV0ZSgpLmVxKCdpZCcsIGlkKVxyXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZVNlcnZpY2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiRXJyb3IiLCJzdXBhYmFzZSIsInN1cGFiYXNlQWRtaW4iLCJnZXRVc2VyQnlFbWFpbCIsImVtYWlsIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiY29kZSIsImNyZWF0ZVVzZXIiLCJ1c2VyRGF0YSIsImluc2VydCIsImdldEFsbFVzZXJzIiwidXBkYXRlVXNlciIsImlkIiwidXBkYXRlcyIsInVwZGF0ZSIsImRlbGV0ZVVzZXIiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecruiter%2Fjobs-summary%2Froute&page=%2Fapi%2Frecruiter%2Fjobs-summary%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecruiter%2Fjobs-summary%2Froute.js&appDir=C%3A%5CUsers%5Comt91%5CDownloads%5Cmain%5Cinterviewverse_frontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Comt91%5CDownloads%5Cmain%5Cinterviewverse_frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();