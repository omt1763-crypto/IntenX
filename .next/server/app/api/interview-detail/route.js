"use strict";(()=>{var e={};e.id=5624,e.ids=[5624],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},43182:(e,t,i)=>{i.r(t),i.d(t,{headerHooks:()=>u,originalPathname:()=>w,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>v});var r={};i.r(r),i.d(r,{GET:()=>GET});var n=i(10884),a=i(16132),o=i(95798),s=i(47770);async function GET(e){try{let{searchParams:t}=new URL(e.url),i=t.get("applicantId");if(!i)return o.Z.json({error:"Missing applicantId parameter"},{status:400});console.log("[InterviewDetail API] Fetching interview for applicant:",i);let{data:r,error:n}=await s.pR.from("job_applicants").select("*").eq("id",i).single();n&&console.error("[InterviewDetail API] Error fetching applicant:",n);let{data:a,error:l}=await s.pR.from("interviews").select("*").eq("applicant_id",i).order("created_at",{ascending:!1}).limit(1).single();if(l)return console.error("[InterviewDetail API] Error fetching interview:",l),o.Z.json({error:"Interview not found",code:l.code,message:l.message},{status:404});if(!a)return console.log("[InterviewDetail API] No interview found for applicant:",i),o.Z.json({error:"Interview not found"},{status:404});return console.log("[InterviewDetail API] Interview found:",a.id),o.Z.json({success:!0,data:{id:a.id,name:r?.name||"Candidate Interview",email:r?.email||a.client||"Unknown",position:r?.position_applied||a.position||"Unknown",job_id:a.job_id,duration:a.duration||0,timestamp:a.timestamp||a.created_at,skills:a.skills||[],conversation:a.conversation||[],notes:a.notes||"",analysis:a.analysis||null,applicantInfo:{name:r?.name,email:r?.email,position_applied:r?.position_applied,applied_on:r?.created_at,status:r?.status}}})}catch(e){return console.error("[InterviewDetail API] Error:",e),o.Z.json({error:e.message||"Internal server error"},{status:500})}}let l=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/interview-detail/route",pathname:"/api/interview-detail",filename:"route",bundlePath:"app/api/interview-detail/route"},resolvedPagePath:"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\api\\interview-detail\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:c,headerHooks:u,staticGenerationBailout:v}=l,w="/api/interview-detail/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),i=t.X(0,[729,5798,8617,7770],()=>__webpack_exec__(43182));module.exports=i})();