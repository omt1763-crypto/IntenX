"use strict";(()=>{var e={};e.id=5393,e.ids=[5393],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},97647:(e,r,s)=>{s.r(r),s.d(r,{headerHooks:()=>p,originalPathname:()=>m,requestAsyncStorage:()=>c,routeModule:()=>n,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>g});var t={};s.r(t),s.d(t,{POST:()=>POST});var a=s(10884),u=s(16132),o=s(95798),i=s(47770);async function POST(e){try{let{email:r,full_name:s,role:t,password:a}=await e.json();if(!r||!s||!t)return o.Z.json({success:!1,error:"Missing required fields"},{status:400});console.log("[Debug API] Creating user:",r,"role:",t);let{data:u,error:n}=await i.pR.auth.admin.createUser({email:r,password:a,email_confirm:!0});if(n||!u.user)return console.error("[Debug API] Auth error:",n),o.Z.json({success:!1,error:n?.message||"Failed to create auth user"},{status:500});let{error:c}=await i.pR.from("users").insert({id:u.user.id,email:r,full_name:s,role:t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(c)return console.error("[Debug API] Profile error:",c),await i.pR.auth.admin.deleteUser(u.user.id),o.Z.json({success:!1,error:c.message||"Failed to create user profile"},{status:500});return console.log("[Debug API] User created successfully:",u.user.id),o.Z.json({success:!0,message:"User created successfully",user:{id:u.user.id,email:r,full_name:s,role:t}})}catch(e){return console.error("[Debug API] Error creating user:",e),o.Z.json({success:!1,error:e.message||"Failed to create user"},{status:500})}}let n=new a.AppRouteRouteModule({definition:{kind:u.x.APP_ROUTE,page:"/api/debug/create-user/route",pathname:"/api/debug/create-user",filename:"route",bundlePath:"app/api/debug/create-user/route"},resolvedPagePath:"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\api\\debug\\create-user\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:l,headerHooks:p,staticGenerationBailout:g}=n,m="/api/debug/create-user/route"}};var r=require("../../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[729,5798,8617,7770],()=>__webpack_exec__(97647));module.exports=s})();