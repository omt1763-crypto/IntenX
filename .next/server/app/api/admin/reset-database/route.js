"use strict";(()=>{var e={};e.id=7210,e.ids=[7210],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},31713:(e,a,t)=>{t.r(a),t.d(a,{originalPathname:()=>m,patchFetch:()=>R,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>b,staticGenerationAsyncStorage:()=>u});var s={};t.r(s),t.d(s,{POST:()=>p});var r=t(49303),o=t(88716),n=t(60670),i=t(87070),l=t(85662);async function p(e){try{console.log("[ResetDatabase API] ⚠️ RESET REQUEST - Starting database reset"),console.log("[ResetDatabase API] Deleting interviews...");let{error:e}=await l.pR.from("interviews").delete().neq("id","00000000-0000-0000-0000-000000000000");e&&console.warn("[ResetDatabase API] Interviews error:",e.message),console.log("[ResetDatabase API] Deleting job applicants...");let{error:a}=await l.pR.from("job_applicants").delete().neq("id","00000000-0000-0000-0000-000000000000");a&&console.warn("[ResetDatabase API] Job applicants error:",a.message),console.log("[ResetDatabase API] Deleting jobs...");let{error:t}=await l.pR.from("jobs").delete().neq("id","00000000-0000-0000-0000-000000000000");t&&console.warn("[ResetDatabase API] Jobs error:",t.message),console.log("[ResetDatabase API] Deleting users...");let{error:s}=await l.pR.from("users").delete().neq("id","00000000-0000-0000-0000-000000000000");s&&console.warn("[ResetDatabase API] Users error:",s.message),console.log("[ResetDatabase API] Deleting candidate profiles...");let{error:r}=await l.pR.from("candidate_profiles").delete().neq("id","00000000-0000-0000-0000-000000000000");r&&console.warn("[ResetDatabase API] Candidate profiles error:",r.message),console.log("[ResetDatabase API] Deleting recruiter stats...");let{error:o}=await l.pR.from("recruiter_stats").delete().neq("id","00000000-0000-0000-0000-000000000000");return o&&console.warn("[ResetDatabase API] Recruiter stats error:",o.message),console.log("[ResetDatabase API] ✅ Database reset complete"),i.NextResponse.json({success:!0,message:"Database reset successfully",nextSteps:["Go to http://localhost:3000/signup","Create a new recruiter account","Create a new job","Share interview link and test"]})}catch(e){return console.error("[ResetDatabase API] ❌ Error:",e),i.NextResponse.json({success:!1,error:e.message},{status:500})}}let c=new r.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/admin/reset-database/route",pathname:"/api/admin/reset-database",filename:"route",bundlePath:"app/api/admin/reset-database/route"},resolvedPagePath:"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\api\\admin\\reset-database\\route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:u,serverHooks:b}=c,m="/api/admin/reset-database/route";function R(){return(0,n.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:u})}},85662:(e,a,t)=>{t.d(a,{OQ:()=>i,pR:()=>l});var s=t(76596);let r=process.env.NEXT_PUBLIC_SUPABASE_URL,o=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,n=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!r||!o)throw Error("Missing Supabase environment variables");let i=(0,s.eI)(r,o),l=(0,s.eI)(r,n||o)}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[8948,5972,6596],()=>t(31713));module.exports=s})();