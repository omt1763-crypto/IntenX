"use strict";(()=>{var e={};e.id=5694,e.ids=[5694],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},61282:e=>{e.exports=require("child_process")},84770:e=>{e.exports=require("crypto")},80665:e=>{e.exports=require("dns")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},98216:e=>{e.exports=require("net")},19801:e=>{e.exports=require("os")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},82452:e=>{e.exports=require("tls")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},86809:(e,a,r)=>{r.r(a),r.d(a,{originalPathname:()=>h,patchFetch:()=>f,requestAsyncStorage:()=>u,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>p});var t={};r.r(t),r.d(t,{POST:()=>m});var i=r(49303),o=r(88716),l=r(60670),n=r(87070),s=r(25092);async function m(e){try{let{email:a}=await e.json();if(!a)return n.NextResponse.json({error:"Email is required"},{status:400});let r=await (0,s.V3)(a);return n.NextResponse.json({valid:r.valid,message:r.reason})}catch(e){return console.error("[Email Validation API] Error:",e),n.NextResponse.json({error:"Failed to validate email"},{status:500})}}let c=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/validate-email/route",pathname:"/api/auth/validate-email",filename:"route",bundlePath:"app/api/auth/validate-email/route"},resolvedPagePath:"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\api\\auth\\validate-email\\route.js",nextConfigOutput:"",userland:t}),{requestAsyncStorage:u,staticGenerationAsyncStorage:p,serverHooks:d}=c,h="/api/auth/validate-email/route";function f(){return(0,l.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:p})}},25092:(e,a,r)=>{r.d(a,{V3:()=>c});var t=r(38991),i=r(55245),o=r(80665);let l=(0,r(21764).promisify)(o.resolveMx);async function n(e){try{if(!(0,t.G)(e))return{valid:!1,reason:"Invalid email format"};let a=e.split("@")[1];if(!a)return{valid:!1,reason:"Email domain is invalid"};let r=await l(a).catch(e=>(console.error(`[Email Validation] MX lookup failed for ${a}:`,e.message),null));if(!r||0===r.length)return{valid:!1,reason:`Domain '${a}' does not accept emails (no MX records found)`};return await s(e,r[0])||console.log(`[Email Validation] SMTP verification failed for ${e}, but allowing due to valid MX records`),{valid:!0,reason:"Email address is valid"}}catch(e){return console.error("[Email Validation] Unexpected error during validation:",e),{valid:!0,reason:"Email validation passed (with warnings)",warning:e.message}}}async function s(e,a){return new Promise(e=>{let r=setTimeout(()=>{e(!0)},5e3);try{let t=(0,i.createTransport)({host:a.exchange,port:25,secure:!1,tls:{rejectUnauthorized:!1},connectionTimeout:3e3,socketTimeout:3e3});t.verify((i,o)=>{clearTimeout(r),i?(console.log(`[Email Validation] SMTP verification failed for ${a.exchange}:`,i.message),e(!1)):e(!0),t.close()})}catch(a){clearTimeout(r),console.error("[Email Validation] SMTP connection error:",a.message),e(!1)}})}let m=new Set(["tempmail.com","tempmail.net","tempmail.org","temp-mail.io","temp-mail.org","temporary-mail.net","throwaway.email","throwaway.email.com","trashmail.com","maildrop.cc","mailnesia.com","spam4.me","dispostable.com","fakeinbox.com","mailinator.com","guerrillamail.com","guerrillamail.net","guerrillamail.info","guerrillamail.org","10minutemail.com","10minutemail.net","yopmail.com","yopmail.net","mintemail.com","tempail.com","spamgourmet.com","sharklasers.com","pokemail.net","grr.la","getnada.com","getresponse.com","inboxkitten.com","temp-mail.tk","throwawaymail.com","sharklasers.com","spam.la","0-mail.com","0box.eu","10minutemail.info","10minutemail.fr","10minutemail.de","1secmail.com","a-bc.net","acompanhado.top","acompanhados.com","achatasafe.com","abcdefghijklmnop.com","abcinbox.com","abcinbox.eu","fakegmail.com","fake-email.com","fakemail.com","fake-email.net","testnator.com","testmail.de","temp123.com"]);async function c(e){return!function(e){let a=e.split("@")[1]?.toLowerCase();return!!(!a||m.has(a)||a.includes("tempmail")||a.includes("temp-mail")||a.includes("temporary")||a.includes("throwaway")||a.includes("spam")||a.includes("fake")||a.includes("test")||a.includes("trash")||a.includes("10minute"))}(e)?await n(e):{valid:!1,reason:"Disposable/temporary email addresses are not allowed. Please use a real email address."}}},38991:(e,a)=>{var r=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;a.G=function(e){if(!e||e.length>254||!r.test(e))return!1;var a=e.split("@");return!(a[0].length>64||a[1].split(".").some(function(e){return e.length>63}))}}};var a=require("../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[8948,5972,5245],()=>r(86809));module.exports=t})();