(()=>{var e={};e.id=3421,e.ids=[3421],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},33294:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(67096),i=r(16132),a=r(37284),l=r.n(a),n=r(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["candidate",{children:["dashboard",{children:["certificates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,75275)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\candidate\\dashboard\\certificates\\page.js"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,21606)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\candidate\\dashboard\\certificates\\page.js"],m="/candidate/dashboard/certificates/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/candidate/dashboard/certificates/page",pathname:"/candidate/dashboard/certificates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},28605:(e,t,r)=>{Promise.resolve().then(r.bind(r,87160))},87160:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>CertificatesPage});var s=r(30784),i=r(9885),a=r(53306),l=r(51990),n=r(21367),o=r(56167),d=r(38891),c=r(36929),m=r(90505);function CertificatesPage(){let{user:e,session:t}=(0,a.useAuth)(),[r,x]=(0,i.useState)([]),[p,h]=(0,i.useState)({total:0,completed:0}),[u,g]=(0,i.useState)(!0),[b,f]=(0,i.useState)(null);(0,i.useEffect)(()=>{let r=e?.id;if(!r&&t?.user?.id&&(r=t.user.id),!r)try{let e=localStorage.getItem("auth_user");if(e){let t=JSON.parse(e);r=t.id}}catch(e){}r?(f(r),loadCertificates(r)):g(!1)},[e?.id,t?.user?.id]);let loadCertificates=async e=>{try{console.log("[Certificates] Loading interviews for userId:",e);let t=await fetch(`/api/interviews?userId=${e}`),r=await t.json();if(!r.success||!r.data){console.log("[Certificates] No interviews found"),x(generateDefaultCertificates(0,0)),g(!1);return}let s=r.data;console.log("[Certificates] Found",s.length,"interviews");let i=s.length,a=s.map(e=>e.score||0).filter(e=>e>0),l=a.length>0?Math.round(a.reduce((e,t)=>e+t,0)/a.length):0,n=s.filter(e=>"completed"===e.status).length;console.log("[Certificates] Metrics:",{totalInterviews:i,averageScore:l,completedCount:n});let o=generateCertificates(i,l,n);x(o);let d=o.filter(e=>e.earned).length;h({total:o.length,completed:d})}catch(e){console.error("[Certificates] Error loading certificates:",e),x(generateDefaultCertificates(0,0))}finally{g(!1)}},generateCertificates=(e,t,r)=>{let s=[{id:1,title:"Interview Champion",description:"Completed your first interview",icon:n.Z,color:"bg-blue-50 text-blue-600",earned:e>=1,earnedDate:e>=1?new Date().toISOString().split("T")[0]:null,requirement:"Complete 1 interview",progress:Math.min(e,1)},{id:2,title:"Interview Enthusiast",description:"Completed 5 interviews",icon:o.Z,color:"bg-purple-50 text-purple-600",earned:e>=5,earnedDate:e>=5?new Date().toISOString().split("T")[0]:null,requirement:`Complete 5 interviews (${Math.min(e,5)}/5)`,progress:Math.min(e/5,1)},{id:3,title:"Persistence Master",description:"Completed 10 interviews",icon:d.Z,color:"bg-yellow-50 text-yellow-600",earned:e>=10,earnedDate:e>=10?new Date().toISOString().split("T")[0]:null,requirement:`Complete 10 interviews (${Math.min(e,10)}/10 ${e<10?`- ${10-e} more needed`:""})`,progress:Math.min(e/10,1)},{id:4,title:"Expert Communicator",description:"Achieved 80+ average score",icon:n.Z,color:"bg-green-50 text-green-600",earned:t>=80,earnedDate:t>=80?new Date().toISOString().split("T")[0]:null,requirement:`Average score of 80+ (Current: ${t})`,progress:Math.min(t/80,1)},{id:5,title:"Technical Wizard",description:"Mastered technical interviews",icon:o.Z,color:"bg-indigo-50 text-indigo-600",earned:e>=5&&t>=70,earnedDate:e>=5&&t>=70?new Date().toISOString().split("T")[0]:null,requirement:`Complete 5 technical interviews with 70+ avg (${Math.min(e,5)}/5 - Score: ${t})`,progress:Math.min(e/5*(t/70),1)},{id:6,title:"Master Interviewer",description:"Achieved 90+ average score",icon:d.Z,color:"bg-pink-50 text-pink-600",earned:t>=90,earnedDate:t>=90?new Date().toISOString().split("T")[0]:null,requirement:`Average score of 90+ (Current: ${t} ${t>=80?"- Unlocked when 90+":"- Locked until 80+ achieved"})`,progress:Math.min(t/90,1),locked:t<80}];return s},generateDefaultCertificates=(e,t)=>generateCertificates(e,t,0),w=r.filter(e=>e.earned),v=r.filter(e=>!e.earned);return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-white to-cyan-50",children:[s.jsx(l.Z,{}),s.jsx("div",{className:"ml-64 pt-8 pb-16",children:(0,s.jsxs)("div",{className:"px-8 lg:px-12",children:[(0,s.jsxs)("div",{className:"mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-slate-900 mb-2",children:"Certificates & Achievements"}),s.jsx("p",{className:"text-lg text-slate-600 font-light",children:"Earn certificates by completing milestones"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,s.jsxs)("div",{className:"rounded-3xl p-6 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[s.jsx("p",{className:"text-slate-600 font-semibold mb-2",children:"Total Available"}),s.jsx("p",{className:"text-4xl font-bold text-cyan-500",children:p.total})]}),(0,s.jsxs)("div",{className:"rounded-3xl p-6 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[s.jsx("p",{className:"text-slate-600 font-semibold mb-2",children:"Earned"}),s.jsx("p",{className:"text-4xl font-bold text-cyan-500",children:p.completed})]}),(0,s.jsxs)("div",{className:"rounded-3xl p-6 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[s.jsx("p",{className:"text-slate-600 font-semibold mb-2",children:"Progress"}),(0,s.jsxs)("p",{className:"text-4xl font-bold text-cyan-500",children:[Math.round(p.completed/p.total*100),"%"]})]})]}),w.length>0&&(0,s.jsxs)("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"\uD83C\uDFC6 Earned Certificates"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(e=>{let t=e.icon;return(0,s.jsxs)("div",{className:"rounded-3xl p-8 backdrop-blur-xl bg-gradient-to-br from-purple-100 to-cyan-100 border border-white/60 shadow-lg hover:shadow-xl transition-all",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[s.jsx(t,{className:"w-12 h-12"}),s.jsx(d.Z,{className:"w-5 h-5"})]}),s.jsx("h3",{className:"font-bold text-lg mb-1 text-slate-900",children:e.title}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:e.description}),(0,s.jsxs)("p",{className:"text-xs text-slate-600 mb-4",children:["Earned on ",new Date(e.earnedDate).toLocaleDateString()]}),(0,s.jsxs)("button",{className:"w-full py-2 rounded-lg bg-white/20 hover:bg-white/30 transition-all text-sm font-semibold flex items-center justify-center gap-2",children:[s.jsx(c.Z,{className:"w-4 h-4"}),"Share"]})]},e.id)})})]}),v.length>0&&(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"\uD83D\uDD12 Locked Certificates"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>{let t=e.icon;return(0,s.jsxs)("div",{className:"rounded-3xl p-8 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg opacity-75",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[s.jsx(t,{className:"w-12 h-12 text-slate-400"}),s.jsx(m.Z,{className:"w-5 h-5 text-slate-400"})]}),s.jsx("h3",{className:"font-bold text-lg mb-1 text-slate-900",children:e.title}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:e.description}),s.jsx("div",{className:"bg-slate-200 rounded-full h-2 mb-2",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-cyan-400 h-2 rounded-full",style:{width:"40%"}})}),s.jsx("p",{className:"text-xs text-slate-600",children:e.requirement})]},e.id)})})]})]})})]})}},75275:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>o});var s=r(95153);let i=(0,s.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\app\candidate\dashboard\certificates\page.js`),{__esModule:a,$$typeof:l}=i,n=i.default,o=n}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[6977,8025,4985,2399,1085,2012,1990],()=>__webpack_exec__(33294));module.exports=r})();