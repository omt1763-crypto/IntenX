(()=>{var e={};e.id=4562,e.ids=[4562],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},93756:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>o});var l=t(67096),a=t(16132),r=t(37284),i=t.n(r),n=t(32564),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["candidate",{children:["dashboard",{children:["skills",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,46995)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\candidate\\dashboard\\skills\\page.js"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,21606)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\candidate\\dashboard\\skills\\page.js"],x="/candidate/dashboard/skills/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new l.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/candidate/dashboard/skills/page",pathname:"/candidate/dashboard/skills",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},38036:(e,s,t)=>{Promise.resolve().then(t.bind(t,94427))},94427:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>SkillsMapPage});var l=t(30784),a=t(9885),r=t(53306),i=t(51990),n=t(47573),d=t(95105),o=t(56167),c=t(19917),x=t(57114);function SkillsMapPage(){let e=(0,x.useRouter)(),{user:s,session:t}=(0,r.useAuth)(),[m,h]=(0,a.useState)([]),[p,u]=(0,a.useState)(!0),[g,b]=(0,a.useState)(null),[v,j]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=s?.id;if(!e&&t?.user?.id&&(e=t.user.id),!e)try{let s=localStorage.getItem("auth_user");if(s){let t=JSON.parse(s);e=t.id}}catch(e){}e?(b(e),loadSkills(e)):u(!1)},[s?.id,t?.user?.id]);let loadSkills=async e=>{try{console.log("[SkillsMap] Loading interviews for userId:",e);let s=await fetch(`/api/interviews?userId=${e}`),t=await s.json();if(!t.success||!t.data){console.log("[SkillsMap] No interviews found"),h([]),u(!1);return}let l=t.data;console.log("[SkillsMap] Found",l.length,"interviews"),j(l.length);let a={},r=["Communication","Teamwork","Problem Solving","Coding","Data Structures","Algorithms"];l.forEach(e=>{let s=e.score||0,t=e.skills&&Array.isArray(e.skills)&&e.skills.length>0?e.skills:r.map(e=>({name:e,category:"Technical"}));t.forEach(t=>{let l="string"==typeof t?t:t.name,r=t.category||"Technical";l&&(a[l]||(a[l]={name:l,category:r,ratings:[],interviewIds:[],previousRatings:[]}),a[l].ratings.push(s||5),a[l].interviewIds.push(e.id))})}),console.log("[SkillsMap] Skills found:",Object.keys(a));let i=Object.values(a).map(e=>{let s=e.ratings.map(e=>Math.round((e||0)/10)),t=s.length>0?Math.round(s.reduce((e,s)=>e+s,0)/s.length):5,l=s.slice(-3),a=s.slice(0,-3),r=l.length>0?l.reduce((e,s)=>e+s,0)/l.length:0,i=a.length>0?a.reduce((e,s)=>e+s,0)/a.length:0,n="stable";return s.length>1&&(n=r>i+1?"up":r<i-1?"down":"stable"),{name:e.name,rating:t,category:e.category,trend:n,interviews:e.interviewIds.length,scores:e.ratings}}).sort((e,s)=>s.interviews-e.interviews);console.log("[SkillsMap] Processed skills:",i),h(i)}catch(e){console.error("[SkillsMap] Error loading skills:",e),h([])}finally{u(!1)}},f=m.filter(e=>"Technical"===e.category),w=m.filter(e=>"Soft Skills"===e.category),N=m.length>0?(m.reduce((e,s)=>e+s.rating,0)/m.length).toFixed(1):0,k=m.filter(e=>"up"===e.trend).length;return p?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white to-cyan-50 flex items-center justify-center",children:l.jsx("p",{className:"text-slate-600",children:"Loading skills..."})}):0===m.length?(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-white to-cyan-50",children:[l.jsx(i.Z,{}),l.jsx("div",{className:"ml-64 pt-8 pb-16",children:l.jsx("div",{className:"px-8 lg:px-12",children:(0,l.jsxs)("div",{className:"rounded-3xl p-12 backdrop-blur-xl bg-white/50 border border-white/60 text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"No Skills Data Yet"}),l.jsx("p",{className:"text-slate-600 mb-6",children:"Complete some interviews to start tracking your skills!"}),l.jsx("button",{onClick:()=>e.push("/candidate/dashboard/practice"),className:"px-8 py-3 bg-gradient-to-r from-purple-500 to-cyan-400 border border-purple-400 text-white rounded-xl hover:bg-cyan-500 transition-all font-semibold",children:"Start an Interview"})]})})})]}):(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-white to-cyan-50",children:[l.jsx(i.Z,{}),l.jsx("div",{className:"ml-64 pt-8 pb-16",children:(0,l.jsxs)("div",{className:"px-8 lg:px-12",children:[l.jsx(n.Z,{}),(0,l.jsxs)("div",{className:"mb-12",children:[l.jsx("h1",{className:"text-5xl font-bold text-slate-900 mb-2",children:"Skills Map"}),l.jsx("p",{className:"text-lg text-slate-600 font-light",children:"Track and improve your skills based on your interviews"})]}),f.length>0&&(0,l.jsxs)("div",{className:"mb-12",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[l.jsx(d.Z,{className:"w-6 h-6"}),"Technical Skills"]}),l.jsx("div",{className:"space-y-4",children:f.map(e=>(0,l.jsxs)("div",{className:"rounded-2xl p-6 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-bold text-slate-900",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-slate-600",children:[e.interviews," interview",1!==e.interviews?"s":""," completed"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-3xl font-bold text-cyan-500",children:[e.rating,"/10"]}),l.jsx("p",{className:`text-xs font-semibold ${"up"===e.trend?"text-cyan-600":"down"===e.trend?"text-red-600":"text-slate-600"}`,children:"up"===e.trend?"↑ Improving":"down"===e.trend?"↓ Needs Work":"→ Stable"})]})]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-cyan-400 h-3 rounded-full",style:{width:`${e.rating/10*100}%`}})})]},e.name))})]}),w.length>0&&(0,l.jsxs)("div",{className:"mb-12",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[l.jsx(o.Z,{className:"w-6 h-6"}),"Soft Skills"]}),l.jsx("div",{className:"space-y-4",children:w.map(e=>(0,l.jsxs)("div",{className:"rounded-2xl p-6 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-bold text-slate-900",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-slate-600",children:[e.interviews," interview",1!==e.interviews?"s":""," completed"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-3xl font-bold text-cyan-500",children:[e.rating,"/10"]}),l.jsx("p",{className:`text-xs font-semibold ${"up"===e.trend?"text-cyan-600":"down"===e.trend?"text-red-600":"text-slate-600"}`,children:"up"===e.trend?"↑ Improving":"down"===e.trend?"↓ Needs Work":"→ Stable"})]})]}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-cyan-400 h-3 rounded-full",style:{width:`${e.rating/10*100}%`}})})]},e.name))})]}),(0,l.jsxs)("div",{className:"rounded-3xl p-8 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[l.jsx(c.Z,{className:"w-6 h-6"}),"Overall Assessment"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-slate-600 font-semibold mb-2",children:"Average Rating"}),l.jsx("p",{className:"text-5xl font-bold text-cyan-500",children:N}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"/10"})]}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-slate-600 font-semibold mb-2",children:"Total Interviews"}),l.jsx("p",{className:"text-5xl font-bold text-cyan-500",children:v})]}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-slate-600 font-semibold mb-2",children:"Skills Improving"}),l.jsx("p",{className:"text-5xl font-bold text-cyan-600",children:k}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"trending up"})]})]})]})]})})]})}},46995:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>d});var l=t(95153);let a=(0,l.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\app\candidate\dashboard\skills\page.js`),{__esModule:r,$$typeof:i}=a,n=a.default,d=n}};var s=require("../../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[6977,8025,4985,2399,4007,2012,1990,7573],()=>__webpack_exec__(93756));module.exports=t})();