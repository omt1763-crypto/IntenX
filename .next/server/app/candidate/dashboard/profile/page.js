(()=>{var e={};e.id=4963,e.ids=[4963],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},31753:(e,t,l)=>{"use strict";l.r(t),l.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=l(67096),a=l(16132),r=l(37284),o=l.n(r),n=l(32564),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);l.d(t,i);let d=["",{children:["candidate",{children:["dashboard",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(l.bind(l,46148)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\candidate\\dashboard\\profile\\page.js"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(l.bind(l,21606)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(l.t.bind(l,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\candidate\\dashboard\\profile\\page.js"],x="/candidate/dashboard/profile/page",u={require:l,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/candidate/dashboard/profile/page",pathname:"/candidate/dashboard/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},94350:(e,t,l)=>{Promise.resolve().then(l.bind(l,55389))},55389:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>MyProfilePage});var s=l(30784),a=l(9885),r=l(57114),o=l(53306),n=l(59708),i=l(51990),d=l(98401),c=l(88574),x=l(95833),u=l(67030),m=l(5805),p=l(26753),b=l(56167),h=l(24483);function MyProfilePage(){let e=(0,r.useRouter)(),{user:t,session:l,loading:f}=(0,o.useAuth)(),[g,j]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!0),[_,k]=(0,a.useState)({headline:"",location:"",bio:"",experience_years:0,skills:[],education:[],portfolio_url:"",github_url:"",linkedin_url:""}),[P,C]=(0,a.useState)(""),[S,q]=(0,a.useState)(""),[E,U]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(f){console.log("⏳ Waiting for auth context...");return}if(!t||!l){console.warn("❌ Not logged in - redirecting to login"),e.push("/auth/login");return}loadProfileOnMount()},[f,t,l]);let loadProfileOnMount=async()=>{try{console.log("=== Starting profile load ===");let e=t.id,l=t.email,s=t.user_metadata?.full_name||l?.split("@")[0]||"User";console.log("✅ User logged in:",{currentUserId:e,currentEmail:l,currentName:s}),U(e),C(l),q(s),w(!1),n.OQ.from("candidate_profiles").select("*").eq("id",e).maybeSingle().then(({data:e,error:t})=>{!t&&e?(console.log("✅ Profile loaded:",e),j(e),k(e)):t?console.warn("⚠️ Database error:",t.message):console.log("No profile found - user can create one on save")}).catch(e=>console.warn("⚠️ Profile load error:",e.message))}catch(e){console.error("Error loading profile:",e),w(!1)}},handleSave=async()=>{try{if(!E){alert("Please log in again to save your profile");return}if(console.log("Saving profile for user:",E),g?.id){console.log("Updating existing profile...");let{error:e}=await n.OQ.from("candidate_profiles").update(_).eq("id",E);if(e){console.error("Update error:",e),alert("Error updating profile: "+e.message);return}console.log("✅ Profile updated")}else{console.log("Creating new profile...");let{data:e,error:t}=await n.OQ.from("candidate_profiles").insert([{id:E,..._}]).select().single();if(t){console.error("Insert error:",t),alert("Error saving profile: "+t.message);return}console.log("✅ Profile created:",e),j(e)}y(!1),alert("✅ Profile saved successfully!")}catch(e){console.error("Save error:",e),alert("Error: "+e.message)}};return f||N?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white to-cyan-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-500 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-semibold",children:f?"Verifying your login...":"Loading your profile..."}),P&&(0,s.jsxs)("p",{className:"text-sm text-slate-500 mt-2",children:["Email: ",P]})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-white to-cyan-50",children:[s.jsx(i.Z,{}),s.jsx("div",{className:"ml-64 pt-8 pb-16",children:(0,s.jsxs)("div",{className:"px-8 lg:px-12",children:[(0,s.jsxs)("div",{className:"mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-slate-900 mb-2",children:"My Profile"}),s.jsx("p",{className:"text-lg text-slate-600 font-light",children:"Manage your professional information"})]}),s.jsx("div",{className:"mb-8 rounded-3xl overflow-hidden backdrop-blur-xl bg-gradient-to-br from-white/50 to-cyan-50/30 border border-white/60 shadow-lg",children:s.jsx("div",{className:"p-8 lg:p-12",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-6 flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-purple-500 to-cyan-400 flex items-center justify-center text-white shadow-lg",children:s.jsx(d.Z,{className:"w-12 h-12"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:S||"Your Name"}),s.jsx("p",{className:"text-cyan-600 font-semibold mt-1",children:_.headline||"Add your job title"}),(0,s.jsxs)("p",{className:"text-slate-600 mt-3 flex items-center gap-2",children:[s.jsx(c.Z,{className:"w-4 h-4"}),_.location||"Add your location"]}),(0,s.jsxs)("div",{className:"flex gap-4 mt-4",children:[s.jsx("div",{className:"px-4 py-2 rounded-full bg-cyan-50 text-cyan-700 text-sm font-semibold",children:"★ 5 Interviews"}),s.jsx("div",{className:"px-4 py-2 rounded-full bg-purple-50 text-purple-700 text-sm font-semibold",children:"\uD83C\uDFC6 2 Certificates"})]})]})]}),s.jsx("button",{onClick:()=>y(!v),className:"p-3 rounded-xl bg-gradient-to-r from-purple-500 to-cyan-400 border border-purple-400 text-white hover:bg-cyan-500 transition-all flex items-center gap-2",children:v?s.jsx(x.Z,{className:"w-5 h-5"}):s.jsx(u.Z,{className:"w-5 h-5"})})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,s.jsxs)("div",{className:"rounded-3xl p-8 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[s.jsx(m.Z,{className:"w-5 h-5 text-cyan-500"}),"Contact Information"]}),s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Email Address"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-slate-50 border border-slate-200",children:[s.jsx(m.Z,{className:"w-5 h-5 text-slate-400"}),s.jsx("input",{type:"email",value:P||"Loading...",disabled:!0,className:"flex-1 bg-transparent text-slate-900 outline-none font-medium"})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Cannot be changed (linked to account)"})]})})]}),(0,s.jsxs)("div",{className:"rounded-3xl p-8 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[s.jsx(p.Z,{className:"w-5 h-5 text-purple-500"}),"Professional Info"]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Headline / Job Title"}),s.jsx("input",{type:"text",value:_.headline||"",onChange:e=>k({..._,headline:e.target.value}),disabled:!v,className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 text-slate-900 outline-none font-medium disabled:opacity-60",placeholder:"e.g., Senior Developer"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Location"}),s.jsx("input",{type:"text",value:_.location||"",onChange:e=>k({..._,location:e.target.value}),disabled:!v,className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 text-slate-900 outline-none font-medium disabled:opacity-60",placeholder:"City, Country"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Years of Experience"}),s.jsx("input",{type:"number",value:_.experience_years||0,onChange:e=>k({..._,experience_years:parseInt(e.target.value)||0}),disabled:!v,className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 text-slate-900 outline-none font-medium disabled:opacity-60",placeholder:"0",min:"0",max:"99"})]})]})]}),(0,s.jsxs)("div",{className:"rounded-3xl p-8 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[s.jsx(b.Z,{className:"w-5 h-5 text-cyan-500"}),"Links & Bio"]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Portfolio URL"}),s.jsx("input",{type:"url",value:_.portfolio_url||"",onChange:e=>k({..._,portfolio_url:e.target.value}),disabled:!v,className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 text-slate-900 outline-none font-medium disabled:opacity-60",placeholder:"https://example.com"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"GitHub URL"}),s.jsx("input",{type:"url",value:_.github_url||"",onChange:e=>k({..._,github_url:e.target.value}),disabled:!v,className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 text-slate-900 outline-none font-medium disabled:opacity-60",placeholder:"https://github.com/username"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"LinkedIn URL"}),s.jsx("input",{type:"url",value:_.linkedin_url||"",onChange:e=>k({..._,linkedin_url:e.target.value}),disabled:!v,className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 text-slate-900 outline-none font-medium disabled:opacity-60",placeholder:"https://linkedin.com/in/username"})]})]})]})]}),(0,s.jsxs)("div",{className:"rounded-3xl p-8 backdrop-blur-xl bg-white/50 border border-white/60 shadow-lg mb-8",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[s.jsx(b.Z,{className:"w-5 h-5 text-purple-500"}),"About You"]}),s.jsx("div",{className:"border-2 rounded-xl overflow-hidden transition-all",style:{borderColor:v?"#7c3aed":"#e2e8f0",backgroundColor:v?"rgba(124, 58, 237, 0.05)":"#f8fafc"},children:s.jsx("textarea",{value:_.bio||"",onChange:e=>k({..._,bio:e.target.value}),disabled:!v,className:"w-full px-4 py-3 bg-transparent text-slate-900 outline-none font-medium resize-none disabled:opacity-60",rows:"5",placeholder:"Tell us about yourself, your experience, and career goals..."})}),s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Share information about your professional background and interests"})]}),s.jsx("div",{className:"flex gap-4 justify-end",children:v&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>{y(!1),k(g||{})},className:"px-6 py-3 rounded-xl border-2 border-slate-300 text-slate-900 font-semibold hover:bg-slate-50 transition-all",children:"Cancel"}),(0,s.jsxs)("button",{onClick:handleSave,className:"px-6 py-3 rounded-xl bg-gradient-to-r from-purple-500 to-cyan-400 border-2 border-purple-400 text-white font-semibold hover:bg-cyan-500 transition-all flex items-center gap-2",children:[s.jsx(h.Z,{className:"w-5 h-5"}),"Save Changes"]})]})})]})})]})}},46148:(e,t,l)=>{"use strict";l.r(t),l.d(t,{$$typeof:()=>o,__esModule:()=>r,default:()=>i});var s=l(95153);let a=(0,s.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\app\candidate\dashboard\profile\page.js`),{__esModule:r,$$typeof:o}=a,n=a.default,i=n}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),l=t.X(0,[6977,8025,5007,4985,2399,3685,2012,1990],()=>__webpack_exec__(31753));module.exports=l})();