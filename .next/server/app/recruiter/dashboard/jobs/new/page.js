(()=>{var e={};e.id=1475,e.ids=[1475],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},57310:e=>{"use strict";e.exports=require("url")},82506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>b,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(67096),l=s(16132),a=s(37284),i=s.n(a),n=s(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["recruiter",{children:["dashboard",{children:["jobs",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,96318)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\recruiter\\dashboard\\jobs\\new\\page.js"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,21606)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\recruiter\\dashboard\\jobs\\new\\page.js"],u="/recruiter/dashboard/jobs/new/page",b={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/recruiter/dashboard/jobs/new/page",pathname:"/recruiter/dashboard/jobs/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},73461:(e,t,s)=>{Promise.resolve().then(s.bind(s,23934))},23934:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>NewJobPage});var r=s(30784),l=s(9885),a=s(57114),i=s(89139),n=s(81547),o=s(86809),d=s(49384),c=s(43335),u=s(61147),b=s(8965),x=s(95833),m=s(53306),p=s(98607),h=s(75664);function NewJobPage(){let e=(0,a.useRouter)(),{user:t,isAuthenticated:s,loading:g}=(0,m.useAuth)(),[f,j]=(0,l.useState)({title:"",description:"",company:"",location:"",salary_min:"",salary_max:"",requiredSkills:[],skillInput:"",status:"open"}),[y,v]=(0,l.useState)(!1),[w,N]=(0,l.useState)(null),[k,_]=(0,l.useState)(!1),[C,S]=(0,l.useState)(null),[I,q]=(0,l.useState)(900),[P,E]=(0,l.useState)(!1);(0,l.useEffect)(()=>{g||s||e.replace("/auth/login")},[g,s,e]),(0,l.useEffect)(()=>{_(!0)},[]),(0,l.useEffect)(()=>{if(!C)return;let e=setInterval(()=>{q(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[C]);let handleInputChange=e=>{let{name:t,value:s}=e.target;j(e=>({...e,[t]:s}))},handleAddSkill=()=>{let e=f.skillInput.trim();e&&!f.requiredSkills.includes(e)&&j(t=>({...t,requiredSkills:[...t.requiredSkills,e],skillInput:""}))},handleRemoveSkill=e=>{j(t=>({...t,requiredSkills:t.requiredSkills.filter(t=>t!==e)}))},formatTimeRemaining=e=>e<=0?"Expired":`${String(Math.floor(e/60)).padStart(2,"0")}:${String(e%60).padStart(2,"0")}`,getInterviewLink=()=>{if(!C)return"";try{return`${window.location.origin}/interview/realtime?jobId=${C.id}`}catch(e){return`/interview/realtime?jobId=${C.id}`}},copyLink=async()=>{let e=getInterviewLink();try{await navigator.clipboard.writeText(e),E(!0),setTimeout(()=>E(!1),3e3)}catch(e){console.warn("Copy failed",e)}},handleSubmit=async e=>{e.preventDefault(),v(!0),N(null);try{if(!f.title.trim())throw Error("Job title is required");if(!t?.id)throw Error("User not authenticated");let e={id:(0,h.Z)(),title:f.title.trim(),description:f.description.trim(),company:f.company.trim()||"Unspecified Company",location:f.location.trim(),salary_min:f.salary_min?parseInt(f.salary_min):null,salary_max:f.salary_max?parseInt(f.salary_max):null,required_skills:f.requiredSkills,status:f.status,recruiter_id:t.id,created_at:new Date().toISOString()},s=await fetch("/api/jobs/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobData:e,userId:t.id})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to create job")}let r=await s.json();S(r.job),q(900)}catch(e){console.error("[NewJobPage] Error:",e),N(e.message||"Failed to create job")}finally{v(!1)}};return k?C?(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[r.jsx(p.Z,{role:"recruiter"}),(0,r.jsxs)("div",{className:"fixed inset-0 pointer-events-none opacity-30",children:[r.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-gradient-to-b from-green-500/20 to-transparent rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-gradient-to-t from-green-600/15 to-transparent rounded-full blur-3xl"})]}),(0,r.jsxs)("div",{className:"ml-64",children:[r.jsx(i.E.div,{className:"sticky top-0 z-40 border-b border-green-200/50 bg-gradient-to-r from-green-600 to-green-700 backdrop-blur-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsx("div",{className:"px-8 py-5",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(n.Z,{className:"w-8 h-8 text-white"}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Job Created Successfully!"}),r.jsx("p",{className:"text-sm text-green-50 mt-1",children:"Your interview link is ready to share"})]})]})})}),r.jsx("div",{className:"px-8 py-12 relative z-10",children:(0,r.jsxs)(i.E.div,{className:"max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,r.jsxs)("div",{className:"bg-white border border-slate-200 rounded-xl p-8 shadow-lg mb-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:C.title}),r.jsx("p",{className:"text-slate-600",children:C.company})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 pb-6 border-b border-slate-200 mb-6",children:[C.location&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-slate-700",children:[r.jsx(o.Z,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{children:C.location})]}),C.salary_min&&(0,r.jsxs)("div",{className:"text-slate-700",children:["$",C.salary_min,"K - $",C.salary_max||C.salary_min,"K"]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-50/50 border border-blue-200 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(o.Z,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"font-semibold text-slate-900",children:"Interview Link"})]}),(0,r.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${I>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[r.jsx(d.Z,{className:"w-4 h-4"}),formatTimeRemaining(I)]})]}),r.jsx("p",{className:"text-xs text-slate-500 mb-3",children:I>0?"Share this link with candidates. Link expires in "+formatTimeRemaining(I):"This link has expired. Create a new job to generate a fresh link."}),I>0?(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex-1 bg-white border border-slate-300 rounded-lg p-3 overflow-x-auto",children:r.jsx("code",{className:"text-sm text-slate-700 font-mono whitespace-nowrap",children:getInterviewLink()})}),(0,r.jsxs)("button",{onClick:copyLink,className:`px-4 py-3 rounded-lg font-semibold transition-all flex items-center gap-2 ${P?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-lg"}`,children:[r.jsx(c.Z,{className:"w-4 h-4"}),P?"Copied!":"Copy"]})]}):r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm",children:"Link expired - Please create a new job posting to generate a new interview link"})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>e.push("/recruiter/dashboard/jobs"),className:"flex-1 px-6 py-3 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-semibold",children:"View All Jobs"}),r.jsx("button",{onClick:()=>{S(null),j({title:"",description:"",company:"",location:"",salary_min:"",salary_max:"",requiredSkills:[],skillInput:"",status:"open"}),N(null)},className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg hover:shadow-blue-400/30 transition-all font-semibold",children:"Create Another Job"})]})]})})]})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[r.jsx(p.Z,{role:"recruiter"}),(0,r.jsxs)("div",{className:"fixed inset-0 pointer-events-none opacity-30",children:[r.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-gradient-to-b from-blue-500/20 to-transparent rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-gradient-to-t from-blue-600/15 to-transparent rounded-full blur-3xl"})]}),(0,r.jsxs)("div",{className:"ml-64",children:[r.jsx(i.E.div,{className:"sticky top-0 z-40 border-b border-blue-200/50 bg-gradient-to-r from-blue-600 to-blue-700 backdrop-blur-md",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:r.jsx("div",{className:"px-8 py-5",children:r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>e.back(),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:r.jsx(u.Z,{className:"w-5 h-5 text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Create New Job"}),r.jsx("p",{className:"text-sm text-blue-50 mt-1",children:"Post a new job position to find candidates"})]})]})})})}),r.jsx("div",{className:"px-8 py-12 relative z-10",children:r.jsx(i.E.div,{className:"max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,r.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[w&&r.jsx(i.E.div,{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",initial:{opacity:0},animate:{opacity:1},children:w}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Job Title *"}),r.jsx("input",{type:"text",name:"title",value:f.title,onChange:handleInputChange,placeholder:"e.g., Senior React Developer",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-500/20 bg-white transition-colors",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name"}),r.jsx("input",{type:"text",name:"company",value:f.company,onChange:handleInputChange,placeholder:"Company name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-500/20 bg-white transition-colors"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location"}),r.jsx("input",{type:"text",name:"location",value:f.location,onChange:handleInputChange,placeholder:"e.g., New York, NY or Remote",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-500/20 bg-white transition-colors"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Min Salary (K)"}),r.jsx("input",{type:"number",name:"salary_min",value:f.salary_min,onChange:handleInputChange,placeholder:"e.g., 80",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-500/20 bg-white transition-colors"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Max Salary (K)"}),r.jsx("input",{type:"number",name:"salary_max",value:f.salary_max,onChange:handleInputChange,placeholder:"e.g., 120",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-500/20 bg-white transition-colors"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Job Description"}),r.jsx("textarea",{name:"description",value:f.description,onChange:handleInputChange,placeholder:"Describe the job position, responsibilities, and requirements...",rows:"6",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-500/20 bg-white transition-colors resize-none"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Required Skills"}),(0,r.jsxs)("div",{className:"flex gap-2 mb-3",children:[r.jsx("input",{type:"text",name:"skillInput",value:f.skillInput,onChange:handleInputChange,onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),handleAddSkill())},placeholder:"Add a skill and press Enter",className:"flex-1 px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-500/20 bg-white transition-colors"}),(0,r.jsxs)("button",{type:"button",onClick:handleAddSkill,className:"px-4 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg hover:shadow-blue-400/30 transition-all font-semibold flex items-center gap-2",children:[r.jsx(b.Z,{className:"w-4 h-4"}),"Add"]})]}),f.requiredSkills.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2",children:f.requiredSkills.map(e=>(0,r.jsxs)(i.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-2 bg-blue-50 border border-blue-300 rounded-full",children:[r.jsx("span",{className:"text-sm font-medium text-blue-700",children:e}),r.jsx("button",{type:"button",onClick:()=>handleRemoveSkill(e),className:"text-blue-600 hover:text-red-600 transition-colors",children:r.jsx(x.Z,{className:"w-4 h-4"})})]},e))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),(0,r.jsxs)("select",{name:"status",value:f.status,onChange:handleInputChange,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:border-blue-600 focus:ring-2 focus:ring-blue-500/20 bg-white transition-colors",children:[r.jsx("option",{value:"open",children:"Open"}),r.jsx("option",{value:"closed",children:"Closed"}),r.jsx("option",{value:"on-hold",children:"On Hold"})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-6",children:[r.jsx("button",{type:"button",onClick:()=>e.back(),className:"flex-1 px-6 py-3 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-semibold",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:y,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:shadow-lg hover:shadow-blue-400/30 transition-all font-semibold disabled:opacity-50",children:y?"Creating Job...":"Create Job"})]})]})})})]})]}):null}},96318:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});var r=s(95153);let l=(0,r.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\app\recruiter\dashboard\jobs\new\page.js`),{__esModule:a,$$typeof:i}=l,n=l.default,o=n}};var t=require("../../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[6977,8025,2322,5007,8517,9139,6374,6999,2012,8607],()=>__webpack_exec__(82506));module.exports=s})();