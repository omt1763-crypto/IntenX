(()=>{var e={};e.id=3335,e.ids=[3335],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29804:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o}),s(91230),s(32959),s(35866);var l=s(23191),a=s(88716),i=s(37922),n=s.n(i),r=s(95231),d={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>r[e]);s.d(t,d);let o=["",{children:["recruiter",{children:["dashboard",{children:["applicants",{children:["detail",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,91230)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\recruiter\\dashboard\\applicants\\detail\\page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,32959)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\recruiter\\dashboard\\applicants\\detail\\page.tsx"],m="/recruiter/dashboard/applicants/detail/page",h={require:s,loadChunk:()=>Promise.resolve()},x=new l.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/recruiter/dashboard/applicants/detail/page",pathname:"/recruiter/dashboard/applicants/detail",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},88354:(e,t,s)=>{Promise.resolve().then(s.bind(s,16642))},16642:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var l=s(10326),a=s(17577),i=s(35047),n=s(55469),r=s(99683),d=s(80826),o=s(2372),c=s(41484),m=s(8977);function h(){var e,t,s;(0,i.useRouter)();let h=(0,i.useSearchParams)(),{user:x,isAuthenticated:p,isHydrated:u}=(0,n.a)(),[b,g]=(0,a.useState)(null),[v,f]=(0,a.useState)(!0),[j,w]=(0,a.useState)(!1),[y,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(!1),C=h?.get("applicantId");x?.id;let A=async()=>{try{let e=await fetch(`/api/interview-detail?applicantId=${C}`),t=await e.json();t.data?(g(t.data),S(!1),t.data.analysis?(N(t.data.analysis),console.log("[ApplicantDetail] Using stored AI analysis:",t.data.analysis)):(I(t.data),console.log("[ApplicantDetail] No AI analysis found, generating assessment...")),console.log("[ApplicantDetail] Interview loaded:",t.data)):t.error&&(console.warn("[ApplicantDetail] No interview found:",t.error),S(!0),g(null))}catch(e){console.error("[ApplicantDetail] Error loading interview:",e),S(!0)}finally{f(!1)}},I=e=>{let t=e.conversation?.filter(e=>"user"===e.role)||[],s=e.skills?.length||0;console.log("[Assessment] Analyzing",t.length,"user messages with",s,"skills");let l=0,a=0,i=0,n=e.conversation?.filter(e=>"ai"===e.role||"assistant"===e.role)?.length||1,r=t.length/Math.max(n,1)*100;r>=90?l+=20:r>=70?l+=15:r>=50&&(l+=10),l+=t.some(e=>e.content?.toLowerCase().includes("?")&&e.content?.toLowerCase().includes("what")||e.content?.toLowerCase().includes("how"))?20:0,t.reduce((e,t)=>e+(t.content?.length||0),0),t.length;let d=t.map(e=>e.content?.length||0);l+=d.length>0&&d.every(e=>e>50)?20:10,l=Math.min(60,l);let o=0;t.forEach(e=>{let t=e.content?.toLowerCase()||"",s=/\d+/.test(t)?5:0,l=["improve","increase","decrease","reduce","%","faster","scale"].some(e=>t.includes(e))?5:0,a=["python","javascript","react","node","sql","api","database","framework","library"].some(e=>t.includes(e))?5:0;o+=s+l+a;let i=["i built","i created","i led","i designed","i developed","i implemented","i decided","i improved"].some(e=>t.includes(e))?10:0;o+=i;let n=["result","achieved","completed","delivered","impact","outcome","delivered"].some(e=>t.includes(e))?5:0;o+=n}),a=Math.min(80,o);let c=0;t.forEach(e=>{let t=e.content?.toLowerCase()||"",s=["first","then","next","step","process","approach","method"].some(e=>t.includes(e))?30:0;c+=s;let l=["trade-off","tradeoff","consider","limitation","constraint","challenge","however","but","although"].some(e=>t.includes(e))?30:0;c+=l;let a=["learned","realized","discovered","improved","better","success","failed","lesson","outcome"].some(e=>t.includes(e))?30:0;c+=a}),s>3&&(c+=Math.min(30,5*s)),console.log("[Assessment] Scores:",{driveInitiative:l,relevantAccomplishments:a,problemSolving:i=Math.min(90,c)});let m=Math.round((a+l+i)/3),h=D(t.length,e);N({jobSuitability:m,relevantAccomplishments:a,driveInitiative:l,problemSolving:i,cultureScopes:60,leadershipInfluence:55,userMessageCount:t.length,skillsCount:s,summary:h,recommendation:m>60?"Consider for Interview":"Do Not Hire"})},D=(e,t)=>0===e?"Candidate ended interview immediately without engaging, demonstrating very low motivation and questionable professionalism.":e<3?"Candidate showed minimal engagement during the interview with very few responses. Limited information available to assess job-related competencies.":e<5?"Candidate demonstrated moderate engagement during the interview. Some substantive responses provided but needs further evaluation.":e<8?"Candidate demonstrated good engagement throughout the interview with multiple thoughtful responses. Shows competency in several areas.":"Candidate demonstrated strong engagement with consistent, detailed responses throughout the interview. Showed good understanding of role requirements and strong communication skills.",P=async e=>{if(C)try{f(!0);let t=await fetch("/api/applicants",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicantId:C,status:e})}),s=await t.json();t.ok?(console.log("[ApplicantDetail] Status updated to",e,s.applicant),await A()):console.error("[ApplicantDetail] Failed to update status",s)}catch(e){console.error("[ApplicantDetail] Error updating status:",e)}finally{f(!1)}};return j?u?!u||p||b||v?(0,l.jsxs)("main",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[l.jsx(r.Z,{role:"recruiter"}),(0,l.jsxs)("div",{className:"flex-1 overflow-auto ml-64",children:[l.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200 shadow-sm",children:(0,l.jsxs)("div",{className:"p-6",children:[l.jsx(d.Z,{}),l.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:b?.name||"Loading..."})]})}),l.jsx("div",{className:"p-6 max-w-6xl",children:v?(0,l.jsxs)("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("p",{className:"text-slate-600 mt-4",children:"Loading interview data..."})]}):k?(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",children:[l.jsx(o.Z,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"No Interview Found"}),l.jsx("p",{className:"text-slate-600 mb-6",children:"This applicant has not completed an interview yet."}),l.jsx("button",{onClick:()=>window.history.back(),className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Go Back"})]}):b?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Interview Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Applied For"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:b.position})]}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Interviewed On"}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:new Date(b.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm text-slate-600 flex items-center gap-2",children:[l.jsx(c.Z,{className:"w-4 h-4"}),"Email"]}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:b.email})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm text-slate-600 flex items-center gap-2",children:[l.jsx(m.Z,{className:"w-4 h-4"}),"Interview Duration"]}),l.jsx("p",{className:"text-lg font-semibold text-slate-900",children:(e=b.duration,`${Math.floor(e/60)}m ${e%60}s`)})]})]})]}),y&&(0,l.jsxs)("div",{className:`${(t=y.jobSuitability)>=70?"bg-green-50":t>=50?"bg-yellow-50":"bg-red-50"} rounded-lg border border-slate-200 p-6`,children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Job Suitability"}),(0,l.jsxs)("div",{className:"flex items-end gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:`text-5xl font-bold ${(s=y.jobSuitability)>=70?"text-green-600":s>=50?"text-yellow-600":"text-red-600"}`,children:[y.jobSuitability,"%"]}),(0,l.jsxs)("p",{className:"text-sm text-slate-600 mt-2",children:[b.duration||0,"m interview"]})]}),l.jsx("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all ${y.jobSuitability>=70?"bg-green-500":y.jobSuitability>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${y.jobSuitability}%`}})})]})]}),y&&(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Assessment Breakdown"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:"Relevant Accomplishments"}),(0,l.jsxs)("span",{className:"text-sm font-bold text-slate-900",children:[y.relevantAccomplishments,"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${y.relevantAccomplishments}%`}})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:"Drive & Initiative"}),(0,l.jsxs)("span",{className:"text-sm font-bold text-slate-900",children:[y.driveInitiative,"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${y.driveInitiative}%`}})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:"Problem Solving"}),(0,l.jsxs)("span",{className:"text-sm font-bold text-slate-900",children:[y.problemSolving,"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-purple-500 transition-all",style:{width:`${y.problemSolving}%`}})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:"Culture & Scope Fit"}),(0,l.jsxs)("span",{className:"text-sm font-bold text-slate-900",children:[y.cultureScopes,"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${y.cultureScopes}%`}})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("p",{className:"font-semibold text-slate-900",children:"Leadership & Influence"}),(0,l.jsxs)("span",{className:"text-sm font-bold text-slate-900",children:[y.leadershipInfluence,"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-pink-500 transition-all",style:{width:`${y.leadershipInfluence}%`}})})]})]})]}),y&&(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx(o.Z,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),(0,l.jsxs)("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"AI Summary"}),l.jsx("p",{className:`text-lg font-semibold mt-2 ${y.jobSuitability>50?"text-green-600":"text-red-600"}`,children:y.recommendation})]})]}),l.jsx("p",{className:"text-slate-700 leading-relaxed",children:y.summary})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Qualitative Assessment"}),l.jsx("p",{className:"text-slate-600 mb-4 text-sm",children:"Interview analysis based on conversation and engagement during the interview session."}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Relevant Accomplishments"}),l.jsx("p",{className:"text-slate-700",children:y?.relevantAccomplishments===0?"Insufficient data - Candidate provided minimal examples of relevant accomplishments.":"Candidate demonstrated relevant accomplishments aligned with position requirements."})]}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Drive & Initiative"}),l.jsx("p",{className:"text-slate-700",children:y?.driveInitiative<30?"Candidate demonstrated low engagement and willingness to participate in the interview.":"Candidate showed good engagement and initiative throughout the interview."})]}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Problem Solving"}),l.jsx("p",{className:"text-slate-700",children:y?.problemSolving===0?"Insufficient data - Not enough information to assess problem-solving skills.":`Candidate demonstrated ${y?.problemSolving>50?"strong":"moderate"} problem-solving abilities.`})]}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Areas To Explore"}),(0,l.jsxs)("ul",{className:"text-slate-700 space-y-2 list-disc list-inside",children:[l.jsx("li",{children:"Motivation and interest in the position"}),l.jsx("li",{children:"Relevant experience and background"}),l.jsx("li",{children:"Communication and professional conduct"}),l.jsx("li",{children:"Technical competencies for the role"})]})]})]})]}),"              ",l.jsx("div",{className:"flex gap-4 items-center",children:(0,l.jsxs)(l.Fragment,{children:[l.jsx("button",{onClick:()=>P("shortlisted"),disabled:v,className:"px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-60",children:"Shortlist"}),l.jsx("button",{onClick:()=>P("rejected"),disabled:v,className:"px-6 py-3 bg-slate-200 text-slate-900 rounded-lg font-semibold hover:bg-slate-300 transition-colors disabled:opacity-60",children:"Reject"})]})})]}):(0,l.jsxs)("div",{className:"text-center py-12",children:[l.jsx(o.Z,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-600 text-lg",children:"No interview data found"})]})})]})]}):(console.log("[ApplicantDetail] Auth failed and no data loaded, redirecting to login"),null):(0,l.jsxs)("main",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[l.jsx(r.Z,{role:"recruiter"}),l.jsx("div",{className:"flex-1 overflow-auto ml-64 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("p",{className:"text-slate-600 mt-4",children:"Loading..."})]})})]}):null}function x(){return l.jsx(a.Suspense,{fallback:l.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:l.jsx("p",{className:"text-white",children:"Loading..."})}),children:l.jsx(h,{})})}},80826:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var l=s(10326),a=s(35047),i=s(25055),n=s(36562);function r(){let e=(0,a.useRouter)(),t=(0,a.usePathname)();if("/candidate/dashboard"===t||"/recruiter/dashboard"===t||"/business/dashboard"===t)return null;let s=(()=>{let e=t.split("/").filter(Boolean);if(e.length<=2)return[];let s=[];if("candidate"===e[0]?s.push({label:"Dashboard",path:"/candidate/dashboard",icon:"home"}):"recruiter"===e[0]?s.push({label:"Dashboard",path:"/recruiter/dashboard",icon:"home"}):"business"===e[0]&&s.push({label:"Dashboard",path:"/business/dashboard",icon:"home"}),e.length>2){let t=e[2],l={practice:"Practice Types",skills:"Skills Map",resume:"Resume Analysis",certificates:"Certificates",profile:"My Profile",activity:"Activity",billing:"Billing",history:"Interview History",applicants:"Applicants",jobs:"Jobs",detail:"Applicant Details"};l[t]&&s.push({label:l[t],path:`/${e[0]}/dashboard/${t}`,icon:"document"})}return s})();return 0===s.length?null:l.jsx("div",{className:"flex items-center gap-1 text-sm text-slate-600 mb-6",children:s.map((t,a)=>(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsxs)("button",{onClick:()=>e.push(t.path),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-slate-200/50 hover:text-slate-900 transition-all duration-200 font-medium text-slate-700 hover:font-semibold",children:["home"===t.icon&&l.jsx(i.Z,{className:"w-4 h-4"}),t.label]}),a<s.length-1&&l.jsx(n.Z,{className:"w-4 h-4 text-slate-400"})]},t.path))})}},91230:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});let l=(0,s(68570).createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\app\recruiter\dashboard\applicants\detail\page.tsx#default`)},2372:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l=(0,s(87926).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},36562:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l=(0,s(87926).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8977:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l=(0,s(87926).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},25055:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l=(0,s(87926).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},41484:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l=(0,s(87926).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),l=t.X(0,[8948,3369,4829,6698],()=>s(29804));module.exports=l})();