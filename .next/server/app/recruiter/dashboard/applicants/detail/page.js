(()=>{var e={};e.id=3335,e.ids=[3335],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},20985:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o});var a=s(67096),l=s(16132),i=s(37284),n=s.n(i),r=s(32564),d={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>r[e]);s.d(t,d);let o=["",{children:["recruiter",{children:["dashboard",{children:["applicants",{children:["detail",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,50265)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\recruiter\\dashboard\\applicants\\detail\\page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,21606)),"C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\omt91\\Downloads\\main\\interviewverse_frontend\\app\\recruiter\\dashboard\\applicants\\detail\\page.tsx"],m="/recruiter/dashboard/applicants/detail/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/recruiter/dashboard/applicants/detail/page",pathname:"/recruiter/dashboard/applicants/detail",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},60771:(e,t,s)=>{Promise.resolve().then(s.bind(s,63607))},63607:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ApplicantDetailPage});var a=s(30784),l=s(9885),i=s(57114),n=s(53306),r=s(98607),d=s(47573),o=s(3285),c=s(5805),m=s(49384);function ApplicantDetailPage(){var e,t,s;(0,i.useRouter)();let x=(0,i.useSearchParams)(),{user:h,isAuthenticated:p}=(0,n.useAuth)(),[u,g]=(0,l.useState)(null),[b,v]=(0,l.useState)(!0),[j,f]=(0,l.useState)(!1),[w,N]=(0,l.useState)(null),[y,S]=(0,l.useState)(!1),A=x?.get("applicantId"),_=h?.id;(0,l.useEffect)(()=>{f(!0),A&&_&&p&&loadInterviewData()},[A,_,p]);let loadInterviewData=async()=>{try{let e=await fetch(`/api/interview-detail?applicantId=${A}`),t=await e.json();t.data?(g(t.data),S(!1),t.data.analysis?(N(t.data.analysis),console.log("[ApplicantDetail] Using stored AI analysis:",t.data.analysis)):(generateAssessment(t.data),console.log("[ApplicantDetail] No AI analysis found, generating assessment...")),console.log("[ApplicantDetail] Interview loaded:",t.data)):t.error&&(console.warn("[ApplicantDetail] No interview found:",t.error),S(!0),g(null))}catch(e){console.error("[ApplicantDetail] Error loading interview:",e),S(!0)}finally{v(!1)}},generateAssessment=e=>{e.conversation?.length;let t=e.skills?.length||0;e.duration;let s=0,a=0,l=0,i=e.conversation?.filter(e=>"user"===e.role)||[],n=e.conversation?.filter(e=>"ai"===e.role||"assistant"===e.role)||[];console.log("[Assessment] User messages:",i.length,"AI messages:",n.length),i.length>8?a=80:i.length>5?a=60:i.length>2?a=40:i.length>0&&(a=20);let r=i.reduce((e,t)=>e+(t.content?.length||0),0)/Math.max(i.length,1);r>200?s=70:r>100?s=50:r>50?s=30:i.length>0&&(s=15),t>5?l=75:t>3?l=55:t>1?l=35:t>0&&(l=20);let d=Math.round((s+a+l)/3);N({jobSuitability:d,relevantAccomplishments:s,driveInitiative:a,problemSolving:l,cultureScopes:30,leadershipInfluence:25,userMessageCount:i.length,skillsCount:t,avgResponseLength:Math.round(r),summary:generateSummary(i.length,e),recommendation:d>50?"Consider for Interview":"Do Not Hire"})},generateSummary=(e,t)=>0===e?"Candidate ended interview immediately without engaging, demonstrating very low motivation and questionable professionalism.":e<3?"Candidate showed minimal engagement during the interview with very few responses. Limited information available to assess job-related competencies.":e<5?"Candidate demonstrated moderate engagement during the interview. Some substantive responses provided but needs further evaluation.":e<8?"Candidate demonstrated good engagement throughout the interview with multiple thoughtful responses. Shows competency in several areas.":"Candidate demonstrated strong engagement with consistent, detailed responses throughout the interview. Showed good understanding of role requirements and strong communication skills.",updateApplicantStatus=async e=>{if(A)try{v(!0);let t=await fetch("/api/applicants",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicantId:A,status:e})}),s=await t.json();t.ok?(console.log("[ApplicantDetail] Status updated to",e,s.applicant),await loadInterviewData()):console.error("[ApplicantDetail] Failed to update status",s)}catch(e){console.error("[ApplicantDetail] Error updating status:",e)}finally{v(!1)}};return j&&p?(0,a.jsxs)("main",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[a.jsx(r.Z,{role:"recruiter"}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto ml-64",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200 shadow-sm",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx(d.Z,{}),a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:u?.name||"Loading..."})]})}),a.jsx("div",{className:"p-6 max-w-6xl",children:b?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"text-slate-600 mt-4",children:"Loading interview data..."})]}):y?(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",children:[a.jsx(o.Z,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"No Interview Found"}),a.jsx("p",{className:"text-slate-600 mb-6",children:"This applicant has not completed an interview yet."}),a.jsx("button",{onClick:()=>window.history.back(),className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Go Back"})]}):u?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Interview Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Applied For"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:u.position})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Interviewed On"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:new Date(u.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-slate-600 flex items-center gap-2",children:[a.jsx(c.Z,{className:"w-4 h-4"}),"Email"]}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:u.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-slate-600 flex items-center gap-2",children:[a.jsx(m.Z,{className:"w-4 h-4"}),"Interview Duration"]}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:(e=u.duration,`${Math.floor(e/60)}m ${e%60}s`)})]})]})]}),w&&(0,a.jsxs)("div",{className:`${(t=w.jobSuitability)>=70?"bg-green-50":t>=50?"bg-yellow-50":"bg-red-50"} rounded-lg border border-slate-200 p-6`,children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Job Suitability"}),(0,a.jsxs)("div",{className:"flex items-end gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:`text-5xl font-bold ${(s=w.jobSuitability)>=70?"text-green-600":s>=50?"text-yellow-600":"text-red-600"}`,children:[w.jobSuitability,"%"]}),(0,a.jsxs)("p",{className:"text-sm text-slate-600 mt-2",children:[u.duration||0,"m interview"]})]}),a.jsx("div",{className:"flex-1 h-2 bg-slate-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all ${w.jobSuitability>=70?"bg-green-500":w.jobSuitability>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${w.jobSuitability}%`}})})]})]}),w&&(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Assessment Breakdown"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:"Relevant Accomplishments"}),(0,a.jsxs)("span",{className:"text-sm font-bold text-slate-900",children:[w.relevantAccomplishments,"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${w.relevantAccomplishments}%`}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:"Drive & Initiative"}),(0,a.jsxs)("span",{className:"text-sm font-bold text-slate-900",children:[w.driveInitiative,"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${w.driveInitiative}%`}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:"Problem Solving"}),(0,a.jsxs)("span",{className:"text-sm font-bold text-slate-900",children:[w.problemSolving,"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-purple-500 transition-all",style:{width:`${w.problemSolving}%`}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:"Culture & Scope Fit"}),(0,a.jsxs)("span",{className:"text-sm font-bold text-slate-900",children:[w.cultureScopes,"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${w.cultureScopes}%`}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("p",{className:"font-semibold text-slate-900",children:"Leadership & Influence"}),(0,a.jsxs)("span",{className:"text-sm font-bold text-slate-900",children:[w.leadershipInfluence,"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-pink-500 transition-all",style:{width:`${w.leadershipInfluence}%`}})})]})]})]}),w&&(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[a.jsx(o.Z,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"AI Summary"}),a.jsx("p",{className:`text-lg font-semibold mt-2 ${w.jobSuitability>50?"text-green-600":"text-red-600"}`,children:w.recommendation})]})]}),a.jsx("p",{className:"text-slate-700 leading-relaxed",children:w.summary})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Qualitative Assessment"}),a.jsx("p",{className:"text-slate-600 mb-4 text-sm",children:"Interview analysis based on conversation and engagement during the interview session."}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Relevant Accomplishments"}),a.jsx("p",{className:"text-slate-700",children:w?.relevantAccomplishments===0?"Insufficient data - Candidate provided minimal examples of relevant accomplishments.":"Candidate demonstrated relevant accomplishments aligned with position requirements."})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Drive & Initiative"}),a.jsx("p",{className:"text-slate-700",children:w?.driveInitiative<30?"Candidate demonstrated low engagement and willingness to participate in the interview.":"Candidate showed good engagement and initiative throughout the interview."})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Problem Solving"}),a.jsx("p",{className:"text-slate-700",children:w?.problemSolving===0?"Insufficient data - Not enough information to assess problem-solving skills.":`Candidate demonstrated ${w?.problemSolving>50?"strong":"moderate"} problem-solving abilities.`})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Areas To Explore"}),(0,a.jsxs)("ul",{className:"text-slate-700 space-y-2 list-disc list-inside",children:[a.jsx("li",{children:"Motivation and interest in the position"}),a.jsx("li",{children:"Relevant experience and background"}),a.jsx("li",{children:"Communication and professional conduct"}),a.jsx("li",{children:"Technical competencies for the role"})]})]})]})]}),"              ",a.jsx("div",{className:"flex gap-4 items-center",children:(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>updateApplicantStatus("shortlisted"),disabled:b,className:"px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-60",children:"Shortlist"}),a.jsx("button",{onClick:()=>updateApplicantStatus("rejected"),disabled:b,className:"px-6 py-3 bg-slate-200 text-slate-900 rounded-lg font-semibold hover:bg-slate-300 transition-colors disabled:opacity-60",children:"Reject"})]})})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(o.Z,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 text-lg",children:"No interview data found"})]})})]})]}):null}},50265:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>d});var a=s(95153);let l=(0,a.createProxy)(String.raw`C:\Users\omt91\Downloads\main\interviewverse_frontend\app\recruiter\dashboard\applicants\detail\page.tsx`),{__esModule:i,$$typeof:n}=l,r=l.default,d=r}};var t=require("../../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[6977,8025,2322,5007,8517,7342,2012,8607,7573],()=>__webpack_exec__(20985));module.exports=s})();