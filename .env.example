# Environment Variables Template

## Frontend Configuration
# Copy this to .env.local and fill in your actual values

# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_SOCKET_URL=http://localhost:3001

# LiveKit Configuration (if using LiveKit instead of custom WebRTC)
# NEXT_PUBLIC_LIVEKIT_URL=wss://your-livekit-server.com
# Leave empty to use custom WebRTC signaling

# Authentication
NEXT_PUBLIC_AUTH_ENABLED=true

# Analytics & Monitoring
# NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Feature Flags
NEXT_PUBLIC_ENABLE_RECORDING=true
NEXT_PUBLIC_ENABLE_SCREEN_SHARE=true
NEXT_PUBLIC_ENABLE_AI_ANALYSIS=true

---

# Backend Configuration (for reference)
# These are NOT used in frontend but document what backend needs

# Server Configuration
NODE_ENV=development
PORT=3001
SOCKET_PORT=3001

# Security
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long
JWT_EXPIRATION=3600

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/interviewverse
REDIS_URL=redis://localhost:6379

# Socket.io
SOCKET_CORS_ORIGIN=http://localhost:3000

# Signaling & Media
# ================

# Option 1: Self-hosted Coturn
TURN_SERVER=turn:your-server.com:3478
TURN_USERNAME=username
TURN_PASSWORD=password
TURN_SERVER_BACKUP=turn:backup-server.com:3478

# Option 2: Xirsys Hosted TURN
XIRSYS_IDENT=your-ident
XIRSYS_SECRET=your-secret

# Option 3: Twilio TURN
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-auth-token

# LiveKit (for SFU deployment)
LIVEKIT_URL=ws://localhost:7880
LIVEKIT_API_KEY=your-api-key
LIVEKIT_API_SECRET=your-api-secret

# LiveKit Recording (optional)
LIVEKIT_RECORDING_ENABLED=true

# AI Services
# ===========

# OpenAI (for Whisper transcription + GPT-4 analysis)
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_ORG_ID=your-org-id

# Anthropic Claude (alternative to OpenAI)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Google Cloud Speech-to-Text (alternative to Whisper)
# GOOGLE_CLOUD_PROJECT=your-project-id
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# File Storage
# ============

# AWS S3 (for storing interview recordings)
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_REGION=us-east-1
AWS_S3_BUCKET=interviewverse-recordings

# Or use Local Storage
STORAGE_TYPE=local
STORAGE_PATH=./uploads

# Email Service (for notifications)
# ==================================

SENDGRID_API_KEY=SG.your-sendgrid-key
SENDGRID_FROM_EMAIL=noreply@interviewverse.com

# Monitoring & Analytics
# =======================

SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
SENTRY_ENVIRONMENT=production
SENTRY_TRACE_SAMPLE_RATE=0.1

# DataDog (optional)
# DATADOG_API_KEY=your-datadog-key
# DATADOG_APP_KEY=your-app-key

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Feature Flags
# =============

ENABLE_RECORDING=true
ENABLE_SCREEN_SHARE=true
ENABLE_AI_ANALYSIS=true
ENABLE_REAL_TIME_METRICS=true
ENABLE_VIDEO_ANALYTICS=false

# Development
# ===========

# Development server port (frontend)
PORT=3000

# Enable debug logging
DEBUG=*

# CORS Settings
CORS_ORIGIN=http://localhost:3000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

---

# Setup Instructions

## For Development

1. Copy this file to `.env.local` in the project root:
   ```bash
   cp .env.example .env.local
   ```

2. Fill in values for your local environment:
   - Set API_URL to your backend URL
   - Use `http://localhost:3001` for local Socket.io server
   - Get OpenAI API key from https://platform.openai.com/api-keys

3. For custom WebRTC without LiveKit:
   - Start Socket.io signaling server on port 3001
   - Configure TURN server (or use public STUN servers only for testing)

## For Production

1. Create `.env.production.local` with production values
2. Use secure, generated JWT secret
3. Set up proper TURN server (Xirsys, Twilio, or self-hosted)
4. Use managed services:
   - LiveKit Cloud for media server
   - Vercel for frontend deployment
   - AWS/GCP for backend
5. Enable monitoring (Sentry, DataDog, etc.)

## Important Notes

- Never commit `.env.local` or `.env.production.local` to git
- Use `.env.example` as template (committed to git)
- Rotate API keys regularly
- Use different secrets for dev/prod/staging
- Keep backup of critical environment variables

---

# Quick Start

### Minimum Configuration (Local Development)

```env
# Required for demo
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_SOCKET_URL=http://localhost:3001

# For AI features (optional)
# OPENAI_API_KEY=sk-xxx
```

### With OpenAI

```env
NEXT_PUBLIC_API_URL=http://localhost:3001
OPENAI_API_KEY=sk-xxx
OPENAI_MODEL=gpt-4
```

### With LiveKit

```env
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_LIVEKIT_URL=wss://your-livekit-server.com
LIVEKIT_API_KEY=your-key
LIVEKIT_API_SECRET=your-secret
```

### Production Ready

```env
# Frontend (in vercel deployment)
NEXT_PUBLIC_API_URL=https://api.yourdomain.com
NEXT_PUBLIC_SOCKET_URL=https://socket.yourdomain.com
NEXT_PUBLIC_LIVEKIT_URL=wss://livekit.yourdomain.com

# Backend (on your server)
DATABASE_URL=postgresql://user:pass@db.yourdomain.com:5432/interviewverse
JWT_SECRET=<generated-secure-key>
OPENAI_API_KEY=sk-xxx
LIVEKIT_URL=wss://livekit.yourdomain.com
LIVEKIT_API_KEY=xxx
LIVEKIT_API_SECRET=xxx
```
